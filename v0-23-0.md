## Dittofeed v0.23.0 Release Notes

Hello everyone, v0.23.0 is a major update to Dittofeed, our open‑source customer engagement platform. This release introduces a brand‑new Broadcasts experience, a redesigned Journeys editor, faster analytics powered by a new internal events store, and substantial improvements across events, deliveries, and segmentation. It also includes many reliability fixes and quality‑of‑life enhancements.

If you haven’t already, you can start messaging your users with Dittofeed Cloud by visiting our dashboard: https://app.dittofeed.com/dashboard

## Upgrade Notes (Required)

Upgrading from v0.22.0 to v0.23.0 is a multi‑step process. The upgrade adds new ClickHouse schema (including an “internal events” table) and requires running pre‑ and post‑upgrade scripts with the admin‑cli.

Follow the guide closely:

- Docker Compose: https://docs.dittofeed.com/deployment/self-hosted/upgrade-guide/v0-23-0
- Kubernetes (Helm): https://docs.dittofeed.com/deployment/self-hosted/upgrade-guide/v0-23-0

High‑level steps:

1) Run the admin‑cli pre‑upgrade script to apply database migrations and create new ClickHouse tables/columns.
2) Upgrade your Dittofeed image(s) to v0.23.0.
3) Run the admin‑cli post‑upgrade script to restart global compute workflows and finalize the upgrade.

## Release Highlights

### New: Broadcasts v2

Broadcasts have been rebuilt for reliability and control.

- Pause, resume, and cancel a broadcast while it runs. Status changes are reflected end‑to‑end (Draft → Scheduled/Running → Completed/Failed/Cancelled).
- Schedule across time zones. You can deliver at a single default time zone, or compute and send at each user’s local time.
- Rate limiting is built in. Dittofeed measures each batch and sleeps just long enough to honor your messages‑per‑second target without stalling throughput.
- Clear error handling modes. When a non‑retryable error happens, choose to pause the broadcast for inspection or skip the affected user and keep going.
- A cleaner editor and navigation make it easier to configure, preview, and manage large sends.

### New: Journeys Editor (Declarative)

Journeys now use a modern, declarative editor with clearer node configuration and safer defaults.

- Message nodes support retries (configurable count, default 3), “skip on failure” to keep users moving if a send fails, and “synchronize properties” to wait for updated user properties before continuing.
- Entry and message node handling is more robust, and node‑level stats and error logging provide better visibility while testing.
- Journeys are declarative‑only going forward. Legacy non‑declarative hooks have been removed to reduce complexity and edge cases.

### New: Faster Analytics with Internal Events

We’ve added a dedicated internal events store in ClickHouse. Dittofeed emits structured internal events (e.g., sent, delivered, opened, clicked) that are denormalized for analysis.

- Charts and summaries are faster and more accurate. We cohort by “sent” and then join delivery/open/click/bounce states, ensuring each message is counted correctly.
- Flexible grouping. Break down performance by journey, broadcast, template, channel, provider, or message state.
- Hidden events are supported. Events marked with `context.hidden = true` are excluded from analytics to keep reporting clean.

### Events & Deliveries: Easier to Explore, Faster to Search

We’ve improved the events and deliveries experience so you can find answers quickly.

- A new user events table adds date filtering, UTC/local time controls, and a server‑time column for precise sequencing.
- Download events and deliveries directly from the UI when you need to take data offline.
- Searching is faster and interruptible, with query plans designed to avoid expensive full scans.
- Deliveries support powerful filtering and sorting:
  - Filter by journey, broadcast, template, channel, sender/recipient, user(s), time range, and group membership.
  - Match on triggering event properties and/or message context values. Matching is tolerant to strings vs numbers and scalar vs array storage.
  - Sort by sent time, status, from, or to, with cursor‑based pagination for stable navigation through large result sets.

### UI: Templates and Subscription Groups

- The templates table has been redesigned with clearer routing and built‑in examples to help you get started quickly.
- Subscription groups now have a dedicated table and scoped management flow, making it easier to preview and adjust settings confidently.

### Segmentation & Subscription Management

- Manual segmentation is easier to operate with a refreshed editor and public APIs. Embedded segments are supported in more places.
- A series of fixes reduces race conditions for manual and keyed segments and improves recompute behavior.
- Subscription management UIs have clearer previews and tag handling so you can confidently confirm who will (and won’t) receive a message.

### Compute Properties & Scheduling

- Compute properties can be configured globally and managed through dedicated endpoints.
- The scheduler and queues have been tuned for steadier throughput and to prioritize fresh work, with safer restart behavior during upgrades.

### Providers, Webhooks & Integrations

- Webhook templates are easier to embed, with clearer secret handling and error messaging.
- Gmail authentication flows are more robust (with a popup OAuth option), and SES now covers all expected email fields.
- SendGrid and Postmark hooks received stability improvements, and SMTP rendering has better default padding in non‑Gmail clients.
- Twilio works with a minimal API‑key configuration for simpler setup.

## Fixes and Quality Improvements

This release includes many targeted fixes across the product.

- Manual segments: resolved recompute race conditions and edge cases that could lead to stale membership.
- Broadcasts: polished editor interactions and fixed tag handling during template edits.
- Events/Deliveries: improved message‑ID scoping, ordering, and result consistency in search and exports.
- API: more consistent validation and friendlier errors on broadcast and subscription endpoints.
- Journeys: clearer message‑node stats and safer early‑exit behavior on failure.

## Deprecations / Breaking Changes

- Journeys are declarative‑only. Older non‑declarative hooks for traits/properties are no longer supported.
- Analytics exclude hidden events (those with `context.hidden = true`).
- The v0.23.0 upgrade requires running the admin‑cli pre/post scripts. Skipping them will leave schemas incomplete and break analytics or segmentation.

## Documentation

- A step‑by‑step upgrade guide for v0.23.0 covers both Docker Compose and Helm deployments.
- A new Internal Events guide explains event types, retryability semantics, and how analytics are computed.
- We’ve expanded docs for embedded journeys/templates and blob storage, and improved guidance for multi‑tenant authentication setups.

## Changes Since Latest Alpha (v0.23.0‑alpha.116)

- Internal Events documentation was added and finalized ahead of the minor release.

## Wrap Up

v0.23.0 brings a modernized Broadcasts experience, a redesigned declarative Journeys editor, faster analytics backed by internal events, and a long list of usability and reliability improvements.

If you self‑host, please follow the v0.23.0 upgrade guide linked above. If you want to try Dittofeed Cloud, you can start sending messages today in the dashboard: https://app.dittofeed.com/dashboard
