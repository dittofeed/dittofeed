{
  "openapi": "3.0.0",
  "info": {
    "title": "Dittofeed API",
    "description": "Dittofeed API Swagger Documentation",
    "version": "0.0.1"
  },
  "components": {
    "schemas": {}
  },
  "paths": {
    "/api/": {
      "get": {
        "description": "Application health check endpoint.",
        "responses": {
          "200": {
            "description": "Default Response"
          }
        }
      }
    },
    "/api/content/templates/render": {
      "post": {
        "tags": [
          "Content"
        ],
        "description": "Render message template.",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "workspaceId": {
                    "type": "string"
                  },
                  "channel": {
                    "anyOf": [
                      {
                        "type": "string",
                        "enum": [
                          "Email"
                        ]
                      },
                      {
                        "type": "string",
                        "enum": [
                          "MobilePush"
                        ]
                      },
                      {
                        "type": "string",
                        "enum": [
                          "Sms"
                        ]
                      }
                    ]
                  },
                  "subscriptionGroupId": {
                    "type": "string"
                  },
                  "contents": {
                    "type": "object",
                    "additionalProperties": {
                      "type": "object",
                      "properties": {
                        "value": {
                          "type": "string"
                        },
                        "mjml": {
                          "type": "boolean"
                        }
                      },
                      "required": [
                        "value"
                      ]
                    }
                  },
                  "userProperties": {
                    "type": "object",
                    "additionalProperties": {}
                  }
                },
                "required": [
                  "workspaceId",
                  "channel",
                  "contents",
                  "userProperties"
                ]
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "contents": {
                      "type": "object",
                      "additionalProperties": {
                        "anyOf": [
                          {
                            "type": "object",
                            "properties": {
                              "type": {
                                "type": "string",
                                "enum": [
                                  "Ok"
                                ]
                              },
                              "value": {
                                "type": "string"
                              }
                            },
                            "required": [
                              "type",
                              "value"
                            ]
                          },
                          {
                            "type": "object",
                            "properties": {
                              "type": {
                                "type": "string",
                                "enum": [
                                  "Err"
                                ]
                              },
                              "err": {
                                "type": "string"
                              }
                            },
                            "required": [
                              "type",
                              "err"
                            ]
                          }
                        ]
                      }
                    }
                  },
                  "required": [
                    "contents"
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/api/content/templates": {
      "put": {
        "tags": [
          "Content"
        ],
        "description": "Create or update message template",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "workspaceId": {
                    "type": "string"
                  },
                  "id": {
                    "type": "string"
                  },
                  "name": {
                    "type": "string"
                  },
                  "definition": {
                    "anyOf": [
                      {
                        "type": "object",
                        "properties": {
                          "type": {
                            "type": "string",
                            "enum": [
                              "MobilePush"
                            ]
                          },
                          "title": {
                            "type": "string"
                          },
                          "body": {
                            "type": "string"
                          },
                          "imageUrl": {
                            "type": "string"
                          },
                          "android": {
                            "type": "object",
                            "properties": {
                              "notification": {
                                "type": "object",
                                "properties": {
                                  "channelId": {
                                    "type": "string"
                                  }
                                }
                              }
                            },
                            "required": [
                              "notification"
                            ]
                          }
                        },
                        "required": [
                          "type"
                        ]
                      },
                      {
                        "type": "object",
                        "properties": {
                          "type": {
                            "type": "string",
                            "enum": [
                              "Email"
                            ]
                          },
                          "from": {
                            "type": "string"
                          },
                          "body": {
                            "type": "string"
                          },
                          "subject": {
                            "type": "string"
                          },
                          "replyTo": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "type",
                          "from",
                          "body",
                          "subject"
                        ]
                      },
                      {
                        "type": "object",
                        "properties": {
                          "type": {
                            "type": "string",
                            "enum": [
                              "Sms"
                            ]
                          },
                          "body": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "type",
                          "body"
                        ]
                      }
                    ]
                  },
                  "draft": {
                    "anyOf": [
                      {
                        "type": "object",
                        "properties": {
                          "type": {
                            "type": "string",
                            "enum": [
                              "MobilePush"
                            ]
                          },
                          "title": {
                            "type": "string"
                          },
                          "body": {
                            "type": "string"
                          },
                          "imageUrl": {
                            "type": "string"
                          },
                          "android": {
                            "type": "object",
                            "properties": {
                              "notification": {
                                "type": "object",
                                "properties": {
                                  "channelId": {
                                    "type": "string"
                                  }
                                }
                              }
                            },
                            "required": [
                              "notification"
                            ]
                          }
                        },
                        "required": [
                          "type"
                        ]
                      },
                      {
                        "type": "object",
                        "properties": {
                          "type": {
                            "type": "string",
                            "enum": [
                              "Email"
                            ]
                          },
                          "from": {
                            "type": "string"
                          },
                          "body": {
                            "type": "string"
                          },
                          "subject": {
                            "type": "string"
                          },
                          "replyTo": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "type",
                          "from",
                          "body",
                          "subject"
                        ]
                      },
                      {
                        "type": "object",
                        "properties": {
                          "type": {
                            "type": "string",
                            "enum": [
                              "Sms"
                            ]
                          },
                          "body": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "type",
                          "body"
                        ]
                      }
                    ]
                  }
                },
                "required": [
                  "id"
                ]
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "workspaceId": {
                      "type": "string"
                    },
                    "id": {
                      "type": "string"
                    },
                    "name": {
                      "type": "string"
                    },
                    "definition": {
                      "anyOf": [
                        {
                          "type": "object",
                          "properties": {
                            "type": {
                              "type": "string",
                              "enum": [
                                "MobilePush"
                              ]
                            },
                            "title": {
                              "type": "string"
                            },
                            "body": {
                              "type": "string"
                            },
                            "imageUrl": {
                              "type": "string"
                            },
                            "android": {
                              "type": "object",
                              "properties": {
                                "notification": {
                                  "type": "object",
                                  "properties": {
                                    "channelId": {
                                      "type": "string"
                                    }
                                  }
                                }
                              },
                              "required": [
                                "notification"
                              ]
                            }
                          },
                          "required": [
                            "type"
                          ]
                        },
                        {
                          "type": "object",
                          "properties": {
                            "type": {
                              "type": "string",
                              "enum": [
                                "Email"
                              ]
                            },
                            "from": {
                              "type": "string"
                            },
                            "body": {
                              "type": "string"
                            },
                            "subject": {
                              "type": "string"
                            },
                            "replyTo": {
                              "type": "string"
                            }
                          },
                          "required": [
                            "type",
                            "from",
                            "body",
                            "subject"
                          ]
                        },
                        {
                          "type": "object",
                          "properties": {
                            "type": {
                              "type": "string",
                              "enum": [
                                "Sms"
                              ]
                            },
                            "body": {
                              "type": "string"
                            }
                          },
                          "required": [
                            "type",
                            "body"
                          ]
                        }
                      ]
                    },
                    "draft": {
                      "anyOf": [
                        {
                          "type": "object",
                          "properties": {
                            "type": {
                              "type": "string",
                              "enum": [
                                "MobilePush"
                              ]
                            },
                            "title": {
                              "type": "string"
                            },
                            "body": {
                              "type": "string"
                            },
                            "imageUrl": {
                              "type": "string"
                            },
                            "android": {
                              "type": "object",
                              "properties": {
                                "notification": {
                                  "type": "object",
                                  "properties": {
                                    "channelId": {
                                      "type": "string"
                                    }
                                  }
                                }
                              },
                              "required": [
                                "notification"
                              ]
                            }
                          },
                          "required": [
                            "type"
                          ]
                        },
                        {
                          "type": "object",
                          "properties": {
                            "type": {
                              "type": "string",
                              "enum": [
                                "Email"
                              ]
                            },
                            "from": {
                              "type": "string"
                            },
                            "body": {
                              "type": "string"
                            },
                            "subject": {
                              "type": "string"
                            },
                            "replyTo": {
                              "type": "string"
                            }
                          },
                          "required": [
                            "type",
                            "from",
                            "body",
                            "subject"
                          ]
                        },
                        {
                          "type": "object",
                          "properties": {
                            "type": {
                              "type": "string",
                              "enum": [
                                "Sms"
                              ]
                            },
                            "body": {
                              "type": "string"
                            }
                          },
                          "required": [
                            "type",
                            "body"
                          ]
                        }
                      ]
                    }
                  },
                  "required": [
                    "workspaceId",
                    "id",
                    "name"
                  ]
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Content"
        ],
        "description": "Delete a message template.",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "string"
                  },
                  "type": {
                    "anyOf": [
                      {
                        "type": "string",
                        "enum": [
                          "Email"
                        ]
                      },
                      {
                        "type": "string",
                        "enum": [
                          "MobilePush"
                        ]
                      },
                      {
                        "type": "string",
                        "enum": [
                          "Sms"
                        ]
                      }
                    ]
                  }
                },
                "required": [
                  "id",
                  "type"
                ]
              }
            }
          },
          "required": true
        },
        "responses": {
          "204": {
            "description": "An empty String",
            "content": {
              "application/json": {
                "schema": {
                  "description": "An empty String",
                  "type": "string"
                }
              }
            }
          },
          "404": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {}
                }
              }
            }
          }
        }
      }
    },
    "/api/content/templates/test": {
      "post": {
        "tags": [
          "Content"
        ],
        "description": "Send a test message for a message template.",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "workspaceId": {
                    "type": "string"
                  },
                  "templateId": {
                    "type": "string"
                  },
                  "channel": {
                    "anyOf": [
                      {
                        "type": "string",
                        "enum": [
                          "Email"
                        ]
                      },
                      {
                        "type": "string",
                        "enum": [
                          "MobilePush"
                        ]
                      },
                      {
                        "type": "string",
                        "enum": [
                          "Sms"
                        ]
                      }
                    ]
                  },
                  "userProperties": {
                    "type": "object",
                    "additionalProperties": {}
                  }
                },
                "required": [
                  "workspaceId",
                  "templateId",
                  "channel",
                  "userProperties"
                ]
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "anyOf": [
                    {
                      "type": "object",
                      "properties": {
                        "type": {
                          "type": "string",
                          "enum": [
                            "Ok"
                          ]
                        },
                        "value": {
                          "anyOf": [
                            {
                              "type": "object",
                              "properties": {
                                "type": {
                                  "type": "string",
                                  "enum": [
                                    "DFInternalMessageSent"
                                  ]
                                },
                                "variant": {
                                  "anyOf": [
                                    {
                                      "type": "object",
                                      "properties": {
                                        "type": {
                                          "type": "string",
                                          "enum": [
                                            "Email"
                                          ]
                                        },
                                        "provider": {
                                          "anyOf": [
                                            {
                                              "type": "object",
                                              "properties": {
                                                "type": {
                                                  "type": "string",
                                                  "enum": [
                                                    "SendGrid"
                                                  ]
                                                }
                                              },
                                              "required": [
                                                "type"
                                              ]
                                            },
                                            {
                                              "type": "object",
                                              "properties": {
                                                "type": {
                                                  "type": "string",
                                                  "enum": [
                                                    "AmazonSes"
                                                  ]
                                                },
                                                "messageId": {
                                                  "type": "string"
                                                }
                                              },
                                              "required": [
                                                "type"
                                              ]
                                            },
                                            {
                                              "type": "object",
                                              "properties": {
                                                "type": {
                                                  "type": "string",
                                                  "enum": [
                                                    "PostMark"
                                                  ]
                                                }
                                              },
                                              "required": [
                                                "type"
                                              ]
                                            },
                                            {
                                              "type": "object",
                                              "properties": {
                                                "type": {
                                                  "type": "string",
                                                  "enum": [
                                                    "Resend"
                                                  ]
                                                }
                                              },
                                              "required": [
                                                "type"
                                              ]
                                            },
                                            {
                                              "type": "object",
                                              "properties": {
                                                "type": {
                                                  "type": "string",
                                                  "enum": [
                                                    "Smtp"
                                                  ]
                                                },
                                                "messageId": {
                                                  "type": "string"
                                                }
                                              },
                                              "required": [
                                                "type",
                                                "messageId"
                                              ]
                                            },
                                            {
                                              "type": "object",
                                              "properties": {
                                                "type": {
                                                  "type": "string",
                                                  "enum": [
                                                    "Test"
                                                  ]
                                                }
                                              },
                                              "required": [
                                                "type"
                                              ]
                                            }
                                          ]
                                        },
                                        "to": {
                                          "type": "string"
                                        },
                                        "from": {
                                          "type": "string"
                                        },
                                        "body": {
                                          "type": "string"
                                        },
                                        "subject": {
                                          "type": "string"
                                        },
                                        "replyTo": {
                                          "type": "string"
                                        }
                                      },
                                      "required": [
                                        "type",
                                        "provider",
                                        "to",
                                        "from",
                                        "body",
                                        "subject"
                                      ]
                                    },
                                    {
                                      "type": "object",
                                      "properties": {
                                        "type": {
                                          "type": "string",
                                          "enum": [
                                            "Sms"
                                          ]
                                        },
                                        "provider": {
                                          "anyOf": [
                                            {
                                              "type": "object",
                                              "properties": {
                                                "type": {
                                                  "type": "string",
                                                  "enum": [
                                                    "Twilio"
                                                  ]
                                                },
                                                "sid": {
                                                  "type": "string"
                                                }
                                              },
                                              "required": [
                                                "type",
                                                "sid"
                                              ]
                                            },
                                            {
                                              "type": "object",
                                              "properties": {
                                                "type": {
                                                  "type": "string",
                                                  "enum": [
                                                    "Test"
                                                  ]
                                                }
                                              },
                                              "required": [
                                                "type"
                                              ]
                                            }
                                          ]
                                        },
                                        "to": {
                                          "type": "string"
                                        },
                                        "body": {
                                          "type": "string"
                                        }
                                      },
                                      "required": [
                                        "type",
                                        "provider",
                                        "to",
                                        "body"
                                      ]
                                    }
                                  ]
                                }
                              },
                              "required": [
                                "type",
                                "variant"
                              ]
                            },
                            {
                              "type": "object",
                              "properties": {
                                "type": {
                                  "type": "string",
                                  "enum": [
                                    "DFMessageSkipped"
                                  ]
                                },
                                "message": {
                                  "type": "string"
                                }
                              },
                              "required": [
                                "type"
                              ]
                            }
                          ]
                        }
                      },
                      "required": [
                        "type",
                        "value"
                      ]
                    },
                    {
                      "type": "object",
                      "properties": {
                        "type": {
                          "type": "string",
                          "enum": [
                            "Err"
                          ]
                        },
                        "err": {
                          "type": "object",
                          "properties": {
                            "suggestions": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "responseData": {
                              "type": "string"
                            }
                          },
                          "required": [
                            "suggestions"
                          ]
                        }
                      },
                      "required": [
                        "type",
                        "err"
                      ]
                    }
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/api/events/": {
      "get": {
        "tags": [
          "Events"
        ],
        "description": "Get list of events",
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "query",
            "name": "workspaceId",
            "required": true
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "query",
            "name": "searchTerm",
            "required": false
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "query",
            "name": "userId",
            "required": false
          },
          {
            "schema": {
              "type": "number"
            },
            "in": "query",
            "name": "offset",
            "required": true
          },
          {
            "schema": {
              "type": "number"
            },
            "in": "query",
            "name": "limit",
            "required": true
          },
          {
            "schema": {
              "type": "number"
            },
            "in": "query",
            "name": "startDate",
            "required": false
          },
          {
            "schema": {
              "type": "number"
            },
            "in": "query",
            "name": "endDate",
            "required": false
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "events": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "messageId": {
                            "type": "string"
                          },
                          "eventType": {
                            "type": "string"
                          },
                          "event": {
                            "type": "string"
                          },
                          "userId": {
                            "anyOf": [
                              {
                                "type": "string"
                              },
                              {
                                "type": "null"
                              }
                            ]
                          },
                          "anonymousId": {
                            "anyOf": [
                              {
                                "type": "string"
                              },
                              {
                                "type": "null"
                              }
                            ]
                          },
                          "processingTime": {
                            "type": "string"
                          },
                          "eventTime": {
                            "type": "string"
                          },
                          "traits": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "messageId",
                          "eventType",
                          "event",
                          "userId",
                          "anonymousId",
                          "processingTime",
                          "eventTime",
                          "traits"
                        ]
                      }
                    },
                    "count": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "events",
                    "count"
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/api/events/traits": {
      "get": {
        "tags": [
          "Events"
        ],
        "description": "Get list of traits available on identify calls",
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "query",
            "name": "workspaceId",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "traits": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    }
                  },
                  "required": [
                    "traits"
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/api/journeys/": {
      "put": {
        "tags": [
          "Journeys"
        ],
        "description": "Create or update a journey.",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "workspaceId": {
                    "type": "string"
                  },
                  "name": {
                    "type": "string"
                  },
                  "status": {
                    "anyOf": [
                      {
                        "type": "string",
                        "enum": [
                          "NotStarted"
                        ]
                      },
                      {
                        "type": "string",
                        "enum": [
                          "Running"
                        ]
                      },
                      {
                        "type": "string",
                        "enum": [
                          "Paused"
                        ]
                      },
                      {
                        "type": "string",
                        "enum": [
                          "Broadcast"
                        ]
                      }
                    ]
                  },
                  "definition": {
                    "type": "object",
                    "properties": {
                      "entryNode": {
                        "anyOf": [
                          {
                            "title": "Segment Entry Node",
                            "description": "The first node in a journey, which limits it to a specific segment.",
                            "type": "object",
                            "properties": {
                              "type": {
                                "type": "string",
                                "enum": [
                                  "EntryNode"
                                ]
                              },
                              "segment": {
                                "type": "string"
                              },
                              "child": {
                                "type": "string"
                              }
                            },
                            "required": [
                              "type",
                              "segment",
                              "child"
                            ]
                          },
                          {
                            "type": "object",
                            "properties": {
                              "type": {
                                "type": "string",
                                "enum": [
                                  "EventEntryNode"
                                ]
                              },
                              "event": {
                                "type": "string"
                              },
                              "child": {
                                "type": "string"
                              }
                            },
                            "required": [
                              "type",
                              "event",
                              "child"
                            ]
                          }
                        ]
                      },
                      "exitNode": {
                        "title": "Exit Node",
                        "description": "Defines when a user exits a journey. Allows users to re-enter the journey, under some set of conditions.",
                        "type": "object",
                        "properties": {
                          "type": {
                            "type": "string",
                            "enum": [
                              "ExitNode"
                            ]
                          }
                        },
                        "required": [
                          "type"
                        ]
                      },
                      "nodes": {
                        "type": "array",
                        "items": {
                          "anyOf": [
                            {
                              "title": "Delay Node",
                              "description": "Delays a users progression through the journey for either a set amount of time, or until a specific date time.",
                              "type": "object",
                              "properties": {
                                "id": {
                                  "type": "string"
                                },
                                "type": {
                                  "type": "string",
                                  "enum": [
                                    "DelayNode"
                                  ]
                                },
                                "variant": {
                                  "anyOf": [
                                    {
                                      "type": "object",
                                      "properties": {
                                        "type": {
                                          "type": "string",
                                          "enum": [
                                            "Second"
                                          ]
                                        },
                                        "seconds": {
                                          "type": "number"
                                        }
                                      },
                                      "required": [
                                        "type",
                                        "seconds"
                                      ]
                                    },
                                    {
                                      "type": "object",
                                      "properties": {
                                        "type": {
                                          "type": "string",
                                          "enum": [
                                            "LocalTime"
                                          ]
                                        },
                                        "minute": {
                                          "type": "number"
                                        },
                                        "hour": {
                                          "type": "number"
                                        },
                                        "allowedDaysOfWeek": {
                                          "type": "array",
                                          "items": {
                                            "anyOf": [
                                              {
                                                "const": 0,
                                                "type": "number"
                                              },
                                              {
                                                "type": "number",
                                                "enum": [
                                                  1
                                                ]
                                              },
                                              {
                                                "type": "number",
                                                "enum": [
                                                  2
                                                ]
                                              },
                                              {
                                                "type": "number",
                                                "enum": [
                                                  3
                                                ]
                                              },
                                              {
                                                "type": "number",
                                                "enum": [
                                                  4
                                                ]
                                              },
                                              {
                                                "type": "number",
                                                "enum": [
                                                  5
                                                ]
                                              },
                                              {
                                                "type": "number",
                                                "enum": [
                                                  6
                                                ]
                                              }
                                            ]
                                          }
                                        }
                                      },
                                      "required": [
                                        "type",
                                        "hour"
                                      ]
                                    }
                                  ]
                                },
                                "child": {
                                  "type": "string"
                                }
                              },
                              "required": [
                                "id",
                                "type",
                                "variant",
                                "child"
                              ]
                            },
                            {
                              "title": "Rate Limit Node",
                              "description": "Used to limit the frequency with which users are contacted by a given Journey.",
                              "type": "object",
                              "properties": {
                                "id": {
                                  "type": "string"
                                },
                                "type": {
                                  "type": "string",
                                  "enum": [
                                    "RateLimitNode"
                                  ]
                                }
                              },
                              "required": [
                                "id",
                                "type"
                              ]
                            },
                            {
                              "title": "Segment Split Node",
                              "description": "Used to split users among audiences, based on the behavior and attributes.",
                              "type": "object",
                              "properties": {
                                "id": {
                                  "type": "string"
                                },
                                "type": {
                                  "type": "string",
                                  "enum": [
                                    "SegmentSplitNode"
                                  ]
                                },
                                "variant": {
                                  "type": "object",
                                  "properties": {
                                    "type": {
                                      "type": "string",
                                      "enum": [
                                        "Boolean"
                                      ]
                                    },
                                    "segment": {
                                      "type": "string"
                                    },
                                    "trueChild": {
                                      "type": "string"
                                    },
                                    "falseChild": {
                                      "type": "string"
                                    }
                                  },
                                  "required": [
                                    "type",
                                    "segment",
                                    "trueChild",
                                    "falseChild"
                                  ]
                                },
                                "name": {
                                  "type": "string"
                                }
                              },
                              "required": [
                                "id",
                                "type",
                                "variant"
                              ]
                            },
                            {
                              "title": "Message Node",
                              "description": "Used to contact a user on a message channel.",
                              "type": "object",
                              "properties": {
                                "id": {
                                  "type": "string"
                                },
                                "type": {
                                  "type": "string",
                                  "enum": [
                                    "MessageNode"
                                  ]
                                },
                                "name": {
                                  "type": "string"
                                },
                                "subscriptionGroupId": {
                                  "type": "string"
                                },
                                "variant": {
                                  "anyOf": [
                                    {
                                      "type": "object",
                                      "properties": {
                                        "type": {
                                          "type": "string",
                                          "enum": [
                                            "Email"
                                          ]
                                        },
                                        "templateId": {
                                          "type": "string"
                                        }
                                      },
                                      "required": [
                                        "type",
                                        "templateId"
                                      ]
                                    },
                                    {
                                      "type": "object",
                                      "properties": {
                                        "type": {
                                          "type": "string",
                                          "enum": [
                                            "MobilePush"
                                          ]
                                        },
                                        "templateId": {
                                          "type": "string"
                                        }
                                      },
                                      "required": [
                                        "type",
                                        "templateId"
                                      ]
                                    },
                                    {
                                      "type": "object",
                                      "properties": {
                                        "type": {
                                          "type": "string",
                                          "enum": [
                                            "Sms"
                                          ]
                                        },
                                        "templateId": {
                                          "type": "string"
                                        }
                                      },
                                      "required": [
                                        "type",
                                        "templateId"
                                      ]
                                    }
                                  ]
                                },
                                "child": {
                                  "type": "string"
                                }
                              },
                              "required": [
                                "id",
                                "type",
                                "variant",
                                "child"
                              ]
                            },
                            {
                              "title": "Experiment Split Node",
                              "description": "Used to split users among experiment paths, to test their effectiveness.",
                              "type": "object",
                              "properties": {
                                "id": {
                                  "type": "string"
                                },
                                "type": {
                                  "type": "string",
                                  "enum": [
                                    "ExperimentSplitNode"
                                  ]
                                }
                              },
                              "required": [
                                "id",
                                "type"
                              ]
                            },
                            {
                              "title": "Wait For Node",
                              "description": "A node which waits for a user to enter a segment before progressing.",
                              "type": "object",
                              "properties": {
                                "id": {
                                  "type": "string"
                                },
                                "type": {
                                  "type": "string",
                                  "enum": [
                                    "WaitForNode"
                                  ]
                                },
                                "timeoutSeconds": {
                                  "type": "number"
                                },
                                "timeoutChild": {
                                  "type": "string"
                                },
                                "segmentChildren": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "properties": {
                                      "id": {
                                        "type": "string"
                                      },
                                      "segmentId": {
                                        "type": "string"
                                      }
                                    },
                                    "required": [
                                      "id",
                                      "segmentId"
                                    ]
                                  }
                                }
                              },
                              "required": [
                                "id",
                                "type",
                                "timeoutSeconds",
                                "timeoutChild",
                                "segmentChildren"
                              ]
                            }
                          ]
                        }
                      }
                    },
                    "required": [
                      "entryNode",
                      "exitNode",
                      "nodes"
                    ]
                  },
                  "canRunMultiple": {
                    "type": "boolean"
                  },
                  "id": {
                    "type": "string"
                  }
                },
                "required": [
                  "id"
                ]
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "string"
                    },
                    "workspaceId": {
                      "type": "string"
                    },
                    "name": {
                      "type": "string"
                    },
                    "status": {
                      "anyOf": [
                        {
                          "type": "string",
                          "enum": [
                            "NotStarted"
                          ]
                        },
                        {
                          "type": "string",
                          "enum": [
                            "Running"
                          ]
                        },
                        {
                          "type": "string",
                          "enum": [
                            "Paused"
                          ]
                        },
                        {
                          "type": "string",
                          "enum": [
                            "Broadcast"
                          ]
                        }
                      ]
                    },
                    "definition": {
                      "type": "object",
                      "properties": {
                        "entryNode": {
                          "anyOf": [
                            {
                              "title": "Segment Entry Node",
                              "description": "The first node in a journey, which limits it to a specific segment.",
                              "type": "object",
                              "properties": {
                                "type": {
                                  "type": "string",
                                  "enum": [
                                    "EntryNode"
                                  ]
                                },
                                "segment": {
                                  "type": "string"
                                },
                                "child": {
                                  "type": "string"
                                }
                              },
                              "required": [
                                "type",
                                "segment",
                                "child"
                              ]
                            },
                            {
                              "type": "object",
                              "properties": {
                                "type": {
                                  "type": "string",
                                  "enum": [
                                    "EventEntryNode"
                                  ]
                                },
                                "event": {
                                  "type": "string"
                                },
                                "child": {
                                  "type": "string"
                                }
                              },
                              "required": [
                                "type",
                                "event",
                                "child"
                              ]
                            }
                          ]
                        },
                        "exitNode": {
                          "title": "Exit Node",
                          "description": "Defines when a user exits a journey. Allows users to re-enter the journey, under some set of conditions.",
                          "type": "object",
                          "properties": {
                            "type": {
                              "type": "string",
                              "enum": [
                                "ExitNode"
                              ]
                            }
                          },
                          "required": [
                            "type"
                          ]
                        },
                        "nodes": {
                          "type": "array",
                          "items": {
                            "anyOf": [
                              {
                                "title": "Delay Node",
                                "description": "Delays a users progression through the journey for either a set amount of time, or until a specific date time.",
                                "type": "object",
                                "properties": {
                                  "id": {
                                    "type": "string"
                                  },
                                  "type": {
                                    "type": "string",
                                    "enum": [
                                      "DelayNode"
                                    ]
                                  },
                                  "variant": {
                                    "anyOf": [
                                      {
                                        "type": "object",
                                        "properties": {
                                          "type": {
                                            "type": "string",
                                            "enum": [
                                              "Second"
                                            ]
                                          },
                                          "seconds": {
                                            "type": "number"
                                          }
                                        },
                                        "required": [
                                          "type",
                                          "seconds"
                                        ]
                                      },
                                      {
                                        "type": "object",
                                        "properties": {
                                          "type": {
                                            "type": "string",
                                            "enum": [
                                              "LocalTime"
                                            ]
                                          },
                                          "minute": {
                                            "type": "number"
                                          },
                                          "hour": {
                                            "type": "number"
                                          },
                                          "allowedDaysOfWeek": {
                                            "type": "array",
                                            "items": {
                                              "anyOf": [
                                                {
                                                  "const": 0,
                                                  "type": "number"
                                                },
                                                {
                                                  "type": "number",
                                                  "enum": [
                                                    1
                                                  ]
                                                },
                                                {
                                                  "type": "number",
                                                  "enum": [
                                                    2
                                                  ]
                                                },
                                                {
                                                  "type": "number",
                                                  "enum": [
                                                    3
                                                  ]
                                                },
                                                {
                                                  "type": "number",
                                                  "enum": [
                                                    4
                                                  ]
                                                },
                                                {
                                                  "type": "number",
                                                  "enum": [
                                                    5
                                                  ]
                                                },
                                                {
                                                  "type": "number",
                                                  "enum": [
                                                    6
                                                  ]
                                                }
                                              ]
                                            }
                                          }
                                        },
                                        "required": [
                                          "type",
                                          "hour"
                                        ]
                                      }
                                    ]
                                  },
                                  "child": {
                                    "type": "string"
                                  }
                                },
                                "required": [
                                  "id",
                                  "type",
                                  "variant",
                                  "child"
                                ]
                              },
                              {
                                "title": "Rate Limit Node",
                                "description": "Used to limit the frequency with which users are contacted by a given Journey.",
                                "type": "object",
                                "properties": {
                                  "id": {
                                    "type": "string"
                                  },
                                  "type": {
                                    "type": "string",
                                    "enum": [
                                      "RateLimitNode"
                                    ]
                                  }
                                },
                                "required": [
                                  "id",
                                  "type"
                                ]
                              },
                              {
                                "title": "Segment Split Node",
                                "description": "Used to split users among audiences, based on the behavior and attributes.",
                                "type": "object",
                                "properties": {
                                  "id": {
                                    "type": "string"
                                  },
                                  "type": {
                                    "type": "string",
                                    "enum": [
                                      "SegmentSplitNode"
                                    ]
                                  },
                                  "variant": {
                                    "type": "object",
                                    "properties": {
                                      "type": {
                                        "type": "string",
                                        "enum": [
                                          "Boolean"
                                        ]
                                      },
                                      "segment": {
                                        "type": "string"
                                      },
                                      "trueChild": {
                                        "type": "string"
                                      },
                                      "falseChild": {
                                        "type": "string"
                                      }
                                    },
                                    "required": [
                                      "type",
                                      "segment",
                                      "trueChild",
                                      "falseChild"
                                    ]
                                  },
                                  "name": {
                                    "type": "string"
                                  }
                                },
                                "required": [
                                  "id",
                                  "type",
                                  "variant"
                                ]
                              },
                              {
                                "title": "Message Node",
                                "description": "Used to contact a user on a message channel.",
                                "type": "object",
                                "properties": {
                                  "id": {
                                    "type": "string"
                                  },
                                  "type": {
                                    "type": "string",
                                    "enum": [
                                      "MessageNode"
                                    ]
                                  },
                                  "name": {
                                    "type": "string"
                                  },
                                  "subscriptionGroupId": {
                                    "type": "string"
                                  },
                                  "variant": {
                                    "anyOf": [
                                      {
                                        "type": "object",
                                        "properties": {
                                          "type": {
                                            "type": "string",
                                            "enum": [
                                              "Email"
                                            ]
                                          },
                                          "templateId": {
                                            "type": "string"
                                          }
                                        },
                                        "required": [
                                          "type",
                                          "templateId"
                                        ]
                                      },
                                      {
                                        "type": "object",
                                        "properties": {
                                          "type": {
                                            "type": "string",
                                            "enum": [
                                              "MobilePush"
                                            ]
                                          },
                                          "templateId": {
                                            "type": "string"
                                          }
                                        },
                                        "required": [
                                          "type",
                                          "templateId"
                                        ]
                                      },
                                      {
                                        "type": "object",
                                        "properties": {
                                          "type": {
                                            "type": "string",
                                            "enum": [
                                              "Sms"
                                            ]
                                          },
                                          "templateId": {
                                            "type": "string"
                                          }
                                        },
                                        "required": [
                                          "type",
                                          "templateId"
                                        ]
                                      }
                                    ]
                                  },
                                  "child": {
                                    "type": "string"
                                  }
                                },
                                "required": [
                                  "id",
                                  "type",
                                  "variant",
                                  "child"
                                ]
                              },
                              {
                                "title": "Experiment Split Node",
                                "description": "Used to split users among experiment paths, to test their effectiveness.",
                                "type": "object",
                                "properties": {
                                  "id": {
                                    "type": "string"
                                  },
                                  "type": {
                                    "type": "string",
                                    "enum": [
                                      "ExperimentSplitNode"
                                    ]
                                  }
                                },
                                "required": [
                                  "id",
                                  "type"
                                ]
                              },
                              {
                                "title": "Wait For Node",
                                "description": "A node which waits for a user to enter a segment before progressing.",
                                "type": "object",
                                "properties": {
                                  "id": {
                                    "type": "string"
                                  },
                                  "type": {
                                    "type": "string",
                                    "enum": [
                                      "WaitForNode"
                                    ]
                                  },
                                  "timeoutSeconds": {
                                    "type": "number"
                                  },
                                  "timeoutChild": {
                                    "type": "string"
                                  },
                                  "segmentChildren": {
                                    "type": "array",
                                    "items": {
                                      "type": "object",
                                      "properties": {
                                        "id": {
                                          "type": "string"
                                        },
                                        "segmentId": {
                                          "type": "string"
                                        }
                                      },
                                      "required": [
                                        "id",
                                        "segmentId"
                                      ]
                                    }
                                  }
                                },
                                "required": [
                                  "id",
                                  "type",
                                  "timeoutSeconds",
                                  "timeoutChild",
                                  "segmentChildren"
                                ]
                              }
                            ]
                          }
                        }
                      },
                      "required": [
                        "entryNode",
                        "exitNode",
                        "nodes"
                      ]
                    },
                    "canRunMultiple": {
                      "type": "boolean"
                    }
                  },
                  "required": [
                    "id",
                    "workspaceId",
                    "name",
                    "status",
                    "definition"
                  ]
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Journeys"
        ],
        "description": "Delete a journey.",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "string"
                  }
                },
                "required": [
                  "id"
                ]
              }
            }
          },
          "required": true
        },
        "responses": {
          "204": {
            "description": "An empty String",
            "content": {
              "application/json": {
                "schema": {
                  "description": "An empty String",
                  "type": "string"
                }
              }
            }
          },
          "404": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {}
                }
              }
            }
          }
        }
      }
    },
    "/api/journeys/stats": {
      "get": {
        "tags": [
          "Journeys"
        ],
        "description": "Retrieve stats regarding one or more journey's performance.",
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "query",
            "name": "workspaceId",
            "required": true
          },
          {
            "schema": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "in": "query",
            "name": "journeyIds",
            "required": false
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "journeyId": {
                        "type": "string"
                      },
                      "workspaceId": {
                        "type": "string"
                      },
                      "nodeStats": {
                        "type": "object",
                        "additionalProperties": {
                          "anyOf": [
                            {
                              "type": "object",
                              "properties": {
                                "type": {
                                  "type": "string",
                                  "enum": [
                                    "MessageNodeStats"
                                  ]
                                },
                                "proportions": {
                                  "type": "object",
                                  "properties": {
                                    "childEdge": {
                                      "type": "number"
                                    }
                                  },
                                  "required": [
                                    "childEdge"
                                  ]
                                },
                                "sendRate": {
                                  "type": "number"
                                },
                                "channelStats": {
                                  "type": "object",
                                  "properties": {
                                    "type": {
                                      "type": "string",
                                      "enum": [
                                        "Email"
                                      ]
                                    },
                                    "deliveryRate": {
                                      "type": "number"
                                    },
                                    "openRate": {
                                      "type": "number"
                                    },
                                    "clickRate": {
                                      "type": "number"
                                    },
                                    "spamRate": {
                                      "type": "number"
                                    }
                                  },
                                  "required": [
                                    "type",
                                    "deliveryRate",
                                    "openRate",
                                    "clickRate",
                                    "spamRate"
                                  ]
                                }
                              },
                              "required": [
                                "type",
                                "proportions",
                                "sendRate"
                              ]
                            },
                            {
                              "type": "object",
                              "properties": {
                                "type": {
                                  "type": "string",
                                  "enum": [
                                    "DelayNodeStats"
                                  ]
                                },
                                "proportions": {
                                  "type": "object",
                                  "properties": {
                                    "childEdge": {
                                      "type": "number"
                                    }
                                  },
                                  "required": [
                                    "childEdge"
                                  ]
                                }
                              },
                              "required": [
                                "type",
                                "proportions"
                              ]
                            },
                            {
                              "type": "object",
                              "properties": {
                                "type": {
                                  "type": "string",
                                  "enum": [
                                    "WaitForNodeStats"
                                  ]
                                },
                                "proportions": {
                                  "type": "object",
                                  "properties": {
                                    "segmentChildEdge": {
                                      "type": "number"
                                    }
                                  },
                                  "required": [
                                    "segmentChildEdge"
                                  ]
                                }
                              },
                              "required": [
                                "type",
                                "proportions"
                              ]
                            },
                            {
                              "type": "object",
                              "properties": {
                                "type": {
                                  "type": "string",
                                  "enum": [
                                    "SegmentSplitNodeStats"
                                  ]
                                },
                                "proportions": {
                                  "type": "object",
                                  "properties": {
                                    "falseChildEdge": {
                                      "type": "number"
                                    }
                                  },
                                  "required": [
                                    "falseChildEdge"
                                  ]
                                }
                              },
                              "required": [
                                "type",
                                "proportions"
                              ]
                            }
                          ]
                        }
                      }
                    },
                    "required": [
                      "journeyId",
                      "workspaceId",
                      "nodeStats"
                    ]
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/secrets/": {
      "get": {
        "tags": [
          "Secrets"
        ],
        "description": "List secrets.",
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "query",
            "name": "workspaceId",
            "required": true
          },
          {
            "schema": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "in": "query",
            "name": "names",
            "required": false
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "name": {
                        "type": "string"
                      },
                      "value": {
                        "type": "string"
                      },
                      "workspaceId": {
                        "type": "string"
                      }
                    },
                    "required": [
                      "name",
                      "value",
                      "workspaceId"
                    ]
                  }
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Secrets"
        ],
        "description": "Create or update a secret. Will patch the secret definition if passed.",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "value": {
                    "type": "string"
                  },
                  "configValue": {
                    "type": "object",
                    "additionalProperties": {}
                  },
                  "workspaceId": {
                    "type": "string"
                  }
                },
                "required": [
                  "name",
                  "workspaceId"
                ]
              }
            }
          },
          "required": true
        },
        "responses": {
          "204": {
            "description": "An empty String",
            "content": {
              "application/json": {
                "schema": {
                  "description": "An empty String",
                  "type": "string"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Secrets"
        ],
        "description": "Delete a secret.",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "workspaceId": {
                    "type": "string"
                  }
                },
                "required": [
                  "name",
                  "workspaceId"
                ]
              }
            }
          },
          "required": true
        },
        "responses": {
          "204": {
            "description": "An empty String",
            "content": {
              "application/json": {
                "schema": {
                  "description": "An empty String",
                  "type": "string"
                }
              }
            }
          }
        }
      }
    },
    "/api/segments/": {
      "put": {
        "tags": [
          "Segments"
        ],
        "description": "Create or update a user segment.",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "allOf": [
                  {
                    "type": "object",
                    "properties": {
                      "workspaceId": {
                        "type": "string"
                      },
                      "name": {
                        "type": "string"
                      },
                      "definition": {
                        "type": "object",
                        "properties": {
                          "entryNode": {
                            "anyOf": [
                              {
                                "type": "object",
                                "properties": {
                                  "type": {
                                    "type": "string",
                                    "enum": [
                                      "Trait"
                                    ]
                                  },
                                  "id": {
                                    "type": "string"
                                  },
                                  "path": {
                                    "type": "string"
                                  },
                                  "operator": {
                                    "anyOf": [
                                      {
                                        "type": "object",
                                        "properties": {
                                          "type": {
                                            "type": "string",
                                            "enum": [
                                              "Within"
                                            ]
                                          },
                                          "windowSeconds": {
                                            "type": "number"
                                          }
                                        },
                                        "required": [
                                          "type",
                                          "windowSeconds"
                                        ]
                                      },
                                      {
                                        "type": "object",
                                        "properties": {
                                          "type": {
                                            "type": "string",
                                            "enum": [
                                              "Equals"
                                            ]
                                          },
                                          "value": {
                                            "anyOf": [
                                              {
                                                "type": "string"
                                              },
                                              {
                                                "type": "number"
                                              }
                                            ]
                                          }
                                        },
                                        "required": [
                                          "type",
                                          "value"
                                        ]
                                      },
                                      {
                                        "type": "object",
                                        "properties": {
                                          "type": {
                                            "type": "string",
                                            "enum": [
                                              "NotEquals"
                                            ]
                                          },
                                          "value": {
                                            "anyOf": [
                                              {
                                                "type": "string"
                                              },
                                              {
                                                "type": "number"
                                              }
                                            ]
                                          }
                                        },
                                        "required": [
                                          "type",
                                          "value"
                                        ]
                                      },
                                      {
                                        "type": "object",
                                        "properties": {
                                          "type": {
                                            "type": "string",
                                            "enum": [
                                              "HasBeen"
                                            ]
                                          },
                                          "comparator": {
                                            "anyOf": [
                                              {
                                                "type": "string",
                                                "enum": [
                                                  "GTE"
                                                ]
                                              },
                                              {
                                                "type": "string",
                                                "enum": [
                                                  "LT"
                                                ]
                                              }
                                            ]
                                          },
                                          "value": {
                                            "anyOf": [
                                              {
                                                "type": "string"
                                              },
                                              {
                                                "type": "number"
                                              }
                                            ]
                                          },
                                          "windowSeconds": {
                                            "type": "number"
                                          }
                                        },
                                        "required": [
                                          "type",
                                          "comparator",
                                          "value",
                                          "windowSeconds"
                                        ]
                                      },
                                      {
                                        "type": "object",
                                        "properties": {
                                          "type": {
                                            "type": "string",
                                            "enum": [
                                              "Exists"
                                            ]
                                          }
                                        },
                                        "required": [
                                          "type"
                                        ]
                                      }
                                    ]
                                  }
                                },
                                "required": [
                                  "type",
                                  "id",
                                  "path",
                                  "operator"
                                ]
                              },
                              {
                                "type": "object",
                                "properties": {
                                  "type": {
                                    "type": "string",
                                    "enum": [
                                      "And"
                                    ]
                                  },
                                  "id": {
                                    "type": "string"
                                  },
                                  "children": {
                                    "type": "array",
                                    "items": {
                                      "type": "string"
                                    }
                                  }
                                },
                                "required": [
                                  "type",
                                  "id",
                                  "children"
                                ]
                              },
                              {
                                "type": "object",
                                "properties": {
                                  "type": {
                                    "type": "string",
                                    "enum": [
                                      "Or"
                                    ]
                                  },
                                  "id": {
                                    "type": "string"
                                  },
                                  "children": {
                                    "type": "array",
                                    "items": {
                                      "type": "string"
                                    }
                                  }
                                },
                                "required": [
                                  "type",
                                  "id",
                                  "children"
                                ]
                              },
                              {
                                "type": "object",
                                "properties": {
                                  "type": {
                                    "type": "string",
                                    "enum": [
                                      "Performed"
                                    ]
                                  },
                                  "id": {
                                    "type": "string"
                                  },
                                  "event": {
                                    "type": "string"
                                  },
                                  "times": {
                                    "type": "number"
                                  },
                                  "timesOperator": {
                                    "anyOf": [
                                      {
                                        "type": "string",
                                        "enum": [
                                          "="
                                        ]
                                      },
                                      {
                                        "type": "string",
                                        "enum": [
                                          ">="
                                        ]
                                      },
                                      {
                                        "type": "string",
                                        "enum": [
                                          "<"
                                        ]
                                      }
                                    ]
                                  },
                                  "withinSeconds": {
                                    "type": "number"
                                  },
                                  "properties": {
                                    "type": "array",
                                    "items": {
                                      "type": "object",
                                      "properties": {
                                        "path": {
                                          "type": "string"
                                        },
                                        "operator": {
                                          "anyOf": [
                                            {
                                              "type": "object",
                                              "properties": {
                                                "type": {
                                                  "type": "string",
                                                  "enum": [
                                                    "Within"
                                                  ]
                                                },
                                                "windowSeconds": {
                                                  "type": "number"
                                                }
                                              },
                                              "required": [
                                                "type",
                                                "windowSeconds"
                                              ]
                                            },
                                            {
                                              "type": "object",
                                              "properties": {
                                                "type": {
                                                  "type": "string",
                                                  "enum": [
                                                    "Equals"
                                                  ]
                                                },
                                                "value": {
                                                  "anyOf": [
                                                    {
                                                      "type": "string"
                                                    },
                                                    {
                                                      "type": "number"
                                                    }
                                                  ]
                                                }
                                              },
                                              "required": [
                                                "type",
                                                "value"
                                              ]
                                            },
                                            {
                                              "type": "object",
                                              "properties": {
                                                "type": {
                                                  "type": "string",
                                                  "enum": [
                                                    "NotEquals"
                                                  ]
                                                },
                                                "value": {
                                                  "anyOf": [
                                                    {
                                                      "type": "string"
                                                    },
                                                    {
                                                      "type": "number"
                                                    }
                                                  ]
                                                }
                                              },
                                              "required": [
                                                "type",
                                                "value"
                                              ]
                                            },
                                            {
                                              "type": "object",
                                              "properties": {
                                                "type": {
                                                  "type": "string",
                                                  "enum": [
                                                    "HasBeen"
                                                  ]
                                                },
                                                "comparator": {
                                                  "anyOf": [
                                                    {
                                                      "type": "string",
                                                      "enum": [
                                                        "GTE"
                                                      ]
                                                    },
                                                    {
                                                      "type": "string",
                                                      "enum": [
                                                        "LT"
                                                      ]
                                                    }
                                                  ]
                                                },
                                                "value": {
                                                  "anyOf": [
                                                    {
                                                      "type": "string"
                                                    },
                                                    {
                                                      "type": "number"
                                                    }
                                                  ]
                                                },
                                                "windowSeconds": {
                                                  "type": "number"
                                                }
                                              },
                                              "required": [
                                                "type",
                                                "comparator",
                                                "value",
                                                "windowSeconds"
                                              ]
                                            },
                                            {
                                              "type": "object",
                                              "properties": {
                                                "type": {
                                                  "type": "string",
                                                  "enum": [
                                                    "Exists"
                                                  ]
                                                }
                                              },
                                              "required": [
                                                "type"
                                              ]
                                            }
                                          ]
                                        }
                                      },
                                      "required": [
                                        "path",
                                        "operator"
                                      ]
                                    }
                                  }
                                },
                                "required": [
                                  "type",
                                  "id",
                                  "event"
                                ]
                              },
                              {
                                "type": "object",
                                "properties": {
                                  "type": {
                                    "type": "string",
                                    "enum": [
                                      "LastPerformed"
                                    ]
                                  },
                                  "id": {
                                    "type": "string"
                                  },
                                  "event": {
                                    "type": "string"
                                  },
                                  "whereProperties": {
                                    "description": "Used to select which events are eligible to be considered.",
                                    "type": "array",
                                    "items": {
                                      "type": "object",
                                      "properties": {
                                        "path": {
                                          "type": "string"
                                        },
                                        "operator": {
                                          "anyOf": [
                                            {
                                              "type": "object",
                                              "properties": {
                                                "type": {
                                                  "type": "string",
                                                  "enum": [
                                                    "Within"
                                                  ]
                                                },
                                                "windowSeconds": {
                                                  "type": "number"
                                                }
                                              },
                                              "required": [
                                                "type",
                                                "windowSeconds"
                                              ]
                                            },
                                            {
                                              "type": "object",
                                              "properties": {
                                                "type": {
                                                  "type": "string",
                                                  "enum": [
                                                    "Equals"
                                                  ]
                                                },
                                                "value": {
                                                  "anyOf": [
                                                    {
                                                      "type": "string"
                                                    },
                                                    {
                                                      "type": "number"
                                                    }
                                                  ]
                                                }
                                              },
                                              "required": [
                                                "type",
                                                "value"
                                              ]
                                            },
                                            {
                                              "type": "object",
                                              "properties": {
                                                "type": {
                                                  "type": "string",
                                                  "enum": [
                                                    "NotEquals"
                                                  ]
                                                },
                                                "value": {
                                                  "anyOf": [
                                                    {
                                                      "type": "string"
                                                    },
                                                    {
                                                      "type": "number"
                                                    }
                                                  ]
                                                }
                                              },
                                              "required": [
                                                "type",
                                                "value"
                                              ]
                                            },
                                            {
                                              "type": "object",
                                              "properties": {
                                                "type": {
                                                  "type": "string",
                                                  "enum": [
                                                    "HasBeen"
                                                  ]
                                                },
                                                "comparator": {
                                                  "anyOf": [
                                                    {
                                                      "type": "string",
                                                      "enum": [
                                                        "GTE"
                                                      ]
                                                    },
                                                    {
                                                      "type": "string",
                                                      "enum": [
                                                        "LT"
                                                      ]
                                                    }
                                                  ]
                                                },
                                                "value": {
                                                  "anyOf": [
                                                    {
                                                      "type": "string"
                                                    },
                                                    {
                                                      "type": "number"
                                                    }
                                                  ]
                                                },
                                                "windowSeconds": {
                                                  "type": "number"
                                                }
                                              },
                                              "required": [
                                                "type",
                                                "comparator",
                                                "value",
                                                "windowSeconds"
                                              ]
                                            },
                                            {
                                              "type": "object",
                                              "properties": {
                                                "type": {
                                                  "type": "string",
                                                  "enum": [
                                                    "Exists"
                                                  ]
                                                }
                                              },
                                              "required": [
                                                "type"
                                              ]
                                            }
                                          ]
                                        }
                                      },
                                      "required": [
                                        "path",
                                        "operator"
                                      ]
                                    }
                                  },
                                  "hasProperties": {
                                    "description": "Used to evaluate whether the user is in the segment based on the properties of the selected event.",
                                    "type": "array",
                                    "items": {
                                      "type": "object",
                                      "properties": {
                                        "path": {
                                          "type": "string"
                                        },
                                        "operator": {
                                          "anyOf": [
                                            {
                                              "type": "object",
                                              "properties": {
                                                "type": {
                                                  "type": "string",
                                                  "enum": [
                                                    "Within"
                                                  ]
                                                },
                                                "windowSeconds": {
                                                  "type": "number"
                                                }
                                              },
                                              "required": [
                                                "type",
                                                "windowSeconds"
                                              ]
                                            },
                                            {
                                              "type": "object",
                                              "properties": {
                                                "type": {
                                                  "type": "string",
                                                  "enum": [
                                                    "Equals"
                                                  ]
                                                },
                                                "value": {
                                                  "anyOf": [
                                                    {
                                                      "type": "string"
                                                    },
                                                    {
                                                      "type": "number"
                                                    }
                                                  ]
                                                }
                                              },
                                              "required": [
                                                "type",
                                                "value"
                                              ]
                                            },
                                            {
                                              "type": "object",
                                              "properties": {
                                                "type": {
                                                  "type": "string",
                                                  "enum": [
                                                    "NotEquals"
                                                  ]
                                                },
                                                "value": {
                                                  "anyOf": [
                                                    {
                                                      "type": "string"
                                                    },
                                                    {
                                                      "type": "number"
                                                    }
                                                  ]
                                                }
                                              },
                                              "required": [
                                                "type",
                                                "value"
                                              ]
                                            },
                                            {
                                              "type": "object",
                                              "properties": {
                                                "type": {
                                                  "type": "string",
                                                  "enum": [
                                                    "HasBeen"
                                                  ]
                                                },
                                                "comparator": {
                                                  "anyOf": [
                                                    {
                                                      "type": "string",
                                                      "enum": [
                                                        "GTE"
                                                      ]
                                                    },
                                                    {
                                                      "type": "string",
                                                      "enum": [
                                                        "LT"
                                                      ]
                                                    }
                                                  ]
                                                },
                                                "value": {
                                                  "anyOf": [
                                                    {
                                                      "type": "string"
                                                    },
                                                    {
                                                      "type": "number"
                                                    }
                                                  ]
                                                },
                                                "windowSeconds": {
                                                  "type": "number"
                                                }
                                              },
                                              "required": [
                                                "type",
                                                "comparator",
                                                "value",
                                                "windowSeconds"
                                              ]
                                            },
                                            {
                                              "type": "object",
                                              "properties": {
                                                "type": {
                                                  "type": "string",
                                                  "enum": [
                                                    "Exists"
                                                  ]
                                                }
                                              },
                                              "required": [
                                                "type"
                                              ]
                                            }
                                          ]
                                        }
                                      },
                                      "required": [
                                        "path",
                                        "operator"
                                      ]
                                    }
                                  }
                                },
                                "required": [
                                  "type",
                                  "id",
                                  "event",
                                  "hasProperties"
                                ]
                              },
                              {
                                "type": "object",
                                "properties": {
                                  "type": {
                                    "type": "string",
                                    "enum": [
                                      "Email"
                                    ]
                                  },
                                  "id": {
                                    "type": "string"
                                  },
                                  "event": {
                                    "anyOf": [
                                      {
                                        "type": "string",
                                        "enum": [
                                          "DFInternalMessageSent"
                                        ]
                                      },
                                      {
                                        "type": "string",
                                        "enum": [
                                          "DFEmailDropped"
                                        ]
                                      },
                                      {
                                        "type": "string",
                                        "enum": [
                                          "DFEmailDelivered"
                                        ]
                                      },
                                      {
                                        "type": "string",
                                        "enum": [
                                          "DFEmailOpened"
                                        ]
                                      },
                                      {
                                        "type": "string",
                                        "enum": [
                                          "DFEmailClicked"
                                        ]
                                      },
                                      {
                                        "type": "string",
                                        "enum": [
                                          "DFEmailBounced"
                                        ]
                                      },
                                      {
                                        "type": "string",
                                        "enum": [
                                          "DFEmailMarkedSpam"
                                        ]
                                      }
                                    ]
                                  },
                                  "times": {
                                    "type": "number"
                                  },
                                  "templateId": {
                                    "type": "string"
                                  }
                                },
                                "required": [
                                  "type",
                                  "id",
                                  "event",
                                  "templateId"
                                ]
                              },
                              {
                                "type": "object",
                                "properties": {
                                  "type": {
                                    "type": "string",
                                    "enum": [
                                      "Broadcast"
                                    ]
                                  },
                                  "id": {
                                    "type": "string"
                                  }
                                },
                                "required": [
                                  "type",
                                  "id"
                                ]
                              },
                              {
                                "type": "object",
                                "properties": {
                                  "type": {
                                    "type": "string",
                                    "enum": [
                                      "SubscriptionGroup"
                                    ]
                                  },
                                  "id": {
                                    "type": "string"
                                  },
                                  "subscriptionGroupId": {
                                    "type": "string"
                                  },
                                  "subscriptionGroupType": {
                                    "anyOf": [
                                      {
                                        "type": "string",
                                        "enum": [
                                          "OptIn"
                                        ]
                                      },
                                      {
                                        "type": "string",
                                        "enum": [
                                          "OptOut"
                                        ]
                                      }
                                    ]
                                  }
                                },
                                "required": [
                                  "type",
                                  "id",
                                  "subscriptionGroupId",
                                  "subscriptionGroupType"
                                ]
                              }
                            ]
                          },
                          "nodes": {
                            "type": "array",
                            "items": {
                              "anyOf": [
                                {
                                  "type": "object",
                                  "properties": {
                                    "type": {
                                      "type": "string",
                                      "enum": [
                                        "Trait"
                                      ]
                                    },
                                    "id": {
                                      "type": "string"
                                    },
                                    "path": {
                                      "type": "string"
                                    },
                                    "operator": {
                                      "anyOf": [
                                        {
                                          "type": "object",
                                          "properties": {
                                            "type": {
                                              "type": "string",
                                              "enum": [
                                                "Within"
                                              ]
                                            },
                                            "windowSeconds": {
                                              "type": "number"
                                            }
                                          },
                                          "required": [
                                            "type",
                                            "windowSeconds"
                                          ]
                                        },
                                        {
                                          "type": "object",
                                          "properties": {
                                            "type": {
                                              "type": "string",
                                              "enum": [
                                                "Equals"
                                              ]
                                            },
                                            "value": {
                                              "anyOf": [
                                                {
                                                  "type": "string"
                                                },
                                                {
                                                  "type": "number"
                                                }
                                              ]
                                            }
                                          },
                                          "required": [
                                            "type",
                                            "value"
                                          ]
                                        },
                                        {
                                          "type": "object",
                                          "properties": {
                                            "type": {
                                              "type": "string",
                                              "enum": [
                                                "NotEquals"
                                              ]
                                            },
                                            "value": {
                                              "anyOf": [
                                                {
                                                  "type": "string"
                                                },
                                                {
                                                  "type": "number"
                                                }
                                              ]
                                            }
                                          },
                                          "required": [
                                            "type",
                                            "value"
                                          ]
                                        },
                                        {
                                          "type": "object",
                                          "properties": {
                                            "type": {
                                              "type": "string",
                                              "enum": [
                                                "HasBeen"
                                              ]
                                            },
                                            "comparator": {
                                              "anyOf": [
                                                {
                                                  "type": "string",
                                                  "enum": [
                                                    "GTE"
                                                  ]
                                                },
                                                {
                                                  "type": "string",
                                                  "enum": [
                                                    "LT"
                                                  ]
                                                }
                                              ]
                                            },
                                            "value": {
                                              "anyOf": [
                                                {
                                                  "type": "string"
                                                },
                                                {
                                                  "type": "number"
                                                }
                                              ]
                                            },
                                            "windowSeconds": {
                                              "type": "number"
                                            }
                                          },
                                          "required": [
                                            "type",
                                            "comparator",
                                            "value",
                                            "windowSeconds"
                                          ]
                                        },
                                        {
                                          "type": "object",
                                          "properties": {
                                            "type": {
                                              "type": "string",
                                              "enum": [
                                                "Exists"
                                              ]
                                            }
                                          },
                                          "required": [
                                            "type"
                                          ]
                                        }
                                      ]
                                    }
                                  },
                                  "required": [
                                    "type",
                                    "id",
                                    "path",
                                    "operator"
                                  ]
                                },
                                {
                                  "type": "object",
                                  "properties": {
                                    "type": {
                                      "type": "string",
                                      "enum": [
                                        "And"
                                      ]
                                    },
                                    "id": {
                                      "type": "string"
                                    },
                                    "children": {
                                      "type": "array",
                                      "items": {
                                        "type": "string"
                                      }
                                    }
                                  },
                                  "required": [
                                    "type",
                                    "id",
                                    "children"
                                  ]
                                },
                                {
                                  "type": "object",
                                  "properties": {
                                    "type": {
                                      "type": "string",
                                      "enum": [
                                        "Or"
                                      ]
                                    },
                                    "id": {
                                      "type": "string"
                                    },
                                    "children": {
                                      "type": "array",
                                      "items": {
                                        "type": "string"
                                      }
                                    }
                                  },
                                  "required": [
                                    "type",
                                    "id",
                                    "children"
                                  ]
                                },
                                {
                                  "type": "object",
                                  "properties": {
                                    "type": {
                                      "type": "string",
                                      "enum": [
                                        "Performed"
                                      ]
                                    },
                                    "id": {
                                      "type": "string"
                                    },
                                    "event": {
                                      "type": "string"
                                    },
                                    "times": {
                                      "type": "number"
                                    },
                                    "timesOperator": {
                                      "anyOf": [
                                        {
                                          "type": "string",
                                          "enum": [
                                            "="
                                          ]
                                        },
                                        {
                                          "type": "string",
                                          "enum": [
                                            ">="
                                          ]
                                        },
                                        {
                                          "type": "string",
                                          "enum": [
                                            "<"
                                          ]
                                        }
                                      ]
                                    },
                                    "withinSeconds": {
                                      "type": "number"
                                    },
                                    "properties": {
                                      "type": "array",
                                      "items": {
                                        "type": "object",
                                        "properties": {
                                          "path": {
                                            "type": "string"
                                          },
                                          "operator": {
                                            "anyOf": [
                                              {
                                                "type": "object",
                                                "properties": {
                                                  "type": {
                                                    "type": "string",
                                                    "enum": [
                                                      "Within"
                                                    ]
                                                  },
                                                  "windowSeconds": {
                                                    "type": "number"
                                                  }
                                                },
                                                "required": [
                                                  "type",
                                                  "windowSeconds"
                                                ]
                                              },
                                              {
                                                "type": "object",
                                                "properties": {
                                                  "type": {
                                                    "type": "string",
                                                    "enum": [
                                                      "Equals"
                                                    ]
                                                  },
                                                  "value": {
                                                    "anyOf": [
                                                      {
                                                        "type": "string"
                                                      },
                                                      {
                                                        "type": "number"
                                                      }
                                                    ]
                                                  }
                                                },
                                                "required": [
                                                  "type",
                                                  "value"
                                                ]
                                              },
                                              {
                                                "type": "object",
                                                "properties": {
                                                  "type": {
                                                    "type": "string",
                                                    "enum": [
                                                      "NotEquals"
                                                    ]
                                                  },
                                                  "value": {
                                                    "anyOf": [
                                                      {
                                                        "type": "string"
                                                      },
                                                      {
                                                        "type": "number"
                                                      }
                                                    ]
                                                  }
                                                },
                                                "required": [
                                                  "type",
                                                  "value"
                                                ]
                                              },
                                              {
                                                "type": "object",
                                                "properties": {
                                                  "type": {
                                                    "type": "string",
                                                    "enum": [
                                                      "HasBeen"
                                                    ]
                                                  },
                                                  "comparator": {
                                                    "anyOf": [
                                                      {
                                                        "type": "string",
                                                        "enum": [
                                                          "GTE"
                                                        ]
                                                      },
                                                      {
                                                        "type": "string",
                                                        "enum": [
                                                          "LT"
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  "value": {
                                                    "anyOf": [
                                                      {
                                                        "type": "string"
                                                      },
                                                      {
                                                        "type": "number"
                                                      }
                                                    ]
                                                  },
                                                  "windowSeconds": {
                                                    "type": "number"
                                                  }
                                                },
                                                "required": [
                                                  "type",
                                                  "comparator",
                                                  "value",
                                                  "windowSeconds"
                                                ]
                                              },
                                              {
                                                "type": "object",
                                                "properties": {
                                                  "type": {
                                                    "type": "string",
                                                    "enum": [
                                                      "Exists"
                                                    ]
                                                  }
                                                },
                                                "required": [
                                                  "type"
                                                ]
                                              }
                                            ]
                                          }
                                        },
                                        "required": [
                                          "path",
                                          "operator"
                                        ]
                                      }
                                    }
                                  },
                                  "required": [
                                    "type",
                                    "id",
                                    "event"
                                  ]
                                },
                                {
                                  "type": "object",
                                  "properties": {
                                    "type": {
                                      "type": "string",
                                      "enum": [
                                        "LastPerformed"
                                      ]
                                    },
                                    "id": {
                                      "type": "string"
                                    },
                                    "event": {
                                      "type": "string"
                                    },
                                    "whereProperties": {
                                      "description": "Used to select which events are eligible to be considered.",
                                      "type": "array",
                                      "items": {
                                        "type": "object",
                                        "properties": {
                                          "path": {
                                            "type": "string"
                                          },
                                          "operator": {
                                            "anyOf": [
                                              {
                                                "type": "object",
                                                "properties": {
                                                  "type": {
                                                    "type": "string",
                                                    "enum": [
                                                      "Within"
                                                    ]
                                                  },
                                                  "windowSeconds": {
                                                    "type": "number"
                                                  }
                                                },
                                                "required": [
                                                  "type",
                                                  "windowSeconds"
                                                ]
                                              },
                                              {
                                                "type": "object",
                                                "properties": {
                                                  "type": {
                                                    "type": "string",
                                                    "enum": [
                                                      "Equals"
                                                    ]
                                                  },
                                                  "value": {
                                                    "anyOf": [
                                                      {
                                                        "type": "string"
                                                      },
                                                      {
                                                        "type": "number"
                                                      }
                                                    ]
                                                  }
                                                },
                                                "required": [
                                                  "type",
                                                  "value"
                                                ]
                                              },
                                              {
                                                "type": "object",
                                                "properties": {
                                                  "type": {
                                                    "type": "string",
                                                    "enum": [
                                                      "NotEquals"
                                                    ]
                                                  },
                                                  "value": {
                                                    "anyOf": [
                                                      {
                                                        "type": "string"
                                                      },
                                                      {
                                                        "type": "number"
                                                      }
                                                    ]
                                                  }
                                                },
                                                "required": [
                                                  "type",
                                                  "value"
                                                ]
                                              },
                                              {
                                                "type": "object",
                                                "properties": {
                                                  "type": {
                                                    "type": "string",
                                                    "enum": [
                                                      "HasBeen"
                                                    ]
                                                  },
                                                  "comparator": {
                                                    "anyOf": [
                                                      {
                                                        "type": "string",
                                                        "enum": [
                                                          "GTE"
                                                        ]
                                                      },
                                                      {
                                                        "type": "string",
                                                        "enum": [
                                                          "LT"
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  "value": {
                                                    "anyOf": [
                                                      {
                                                        "type": "string"
                                                      },
                                                      {
                                                        "type": "number"
                                                      }
                                                    ]
                                                  },
                                                  "windowSeconds": {
                                                    "type": "number"
                                                  }
                                                },
                                                "required": [
                                                  "type",
                                                  "comparator",
                                                  "value",
                                                  "windowSeconds"
                                                ]
                                              },
                                              {
                                                "type": "object",
                                                "properties": {
                                                  "type": {
                                                    "type": "string",
                                                    "enum": [
                                                      "Exists"
                                                    ]
                                                  }
                                                },
                                                "required": [
                                                  "type"
                                                ]
                                              }
                                            ]
                                          }
                                        },
                                        "required": [
                                          "path",
                                          "operator"
                                        ]
                                      }
                                    },
                                    "hasProperties": {
                                      "description": "Used to evaluate whether the user is in the segment based on the properties of the selected event.",
                                      "type": "array",
                                      "items": {
                                        "type": "object",
                                        "properties": {
                                          "path": {
                                            "type": "string"
                                          },
                                          "operator": {
                                            "anyOf": [
                                              {
                                                "type": "object",
                                                "properties": {
                                                  "type": {
                                                    "type": "string",
                                                    "enum": [
                                                      "Within"
                                                    ]
                                                  },
                                                  "windowSeconds": {
                                                    "type": "number"
                                                  }
                                                },
                                                "required": [
                                                  "type",
                                                  "windowSeconds"
                                                ]
                                              },
                                              {
                                                "type": "object",
                                                "properties": {
                                                  "type": {
                                                    "type": "string",
                                                    "enum": [
                                                      "Equals"
                                                    ]
                                                  },
                                                  "value": {
                                                    "anyOf": [
                                                      {
                                                        "type": "string"
                                                      },
                                                      {
                                                        "type": "number"
                                                      }
                                                    ]
                                                  }
                                                },
                                                "required": [
                                                  "type",
                                                  "value"
                                                ]
                                              },
                                              {
                                                "type": "object",
                                                "properties": {
                                                  "type": {
                                                    "type": "string",
                                                    "enum": [
                                                      "NotEquals"
                                                    ]
                                                  },
                                                  "value": {
                                                    "anyOf": [
                                                      {
                                                        "type": "string"
                                                      },
                                                      {
                                                        "type": "number"
                                                      }
                                                    ]
                                                  }
                                                },
                                                "required": [
                                                  "type",
                                                  "value"
                                                ]
                                              },
                                              {
                                                "type": "object",
                                                "properties": {
                                                  "type": {
                                                    "type": "string",
                                                    "enum": [
                                                      "HasBeen"
                                                    ]
                                                  },
                                                  "comparator": {
                                                    "anyOf": [
                                                      {
                                                        "type": "string",
                                                        "enum": [
                                                          "GTE"
                                                        ]
                                                      },
                                                      {
                                                        "type": "string",
                                                        "enum": [
                                                          "LT"
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  "value": {
                                                    "anyOf": [
                                                      {
                                                        "type": "string"
                                                      },
                                                      {
                                                        "type": "number"
                                                      }
                                                    ]
                                                  },
                                                  "windowSeconds": {
                                                    "type": "number"
                                                  }
                                                },
                                                "required": [
                                                  "type",
                                                  "comparator",
                                                  "value",
                                                  "windowSeconds"
                                                ]
                                              },
                                              {
                                                "type": "object",
                                                "properties": {
                                                  "type": {
                                                    "type": "string",
                                                    "enum": [
                                                      "Exists"
                                                    ]
                                                  }
                                                },
                                                "required": [
                                                  "type"
                                                ]
                                              }
                                            ]
                                          }
                                        },
                                        "required": [
                                          "path",
                                          "operator"
                                        ]
                                      }
                                    }
                                  },
                                  "required": [
                                    "type",
                                    "id",
                                    "event",
                                    "hasProperties"
                                  ]
                                },
                                {
                                  "type": "object",
                                  "properties": {
                                    "type": {
                                      "type": "string",
                                      "enum": [
                                        "Email"
                                      ]
                                    },
                                    "id": {
                                      "type": "string"
                                    },
                                    "event": {
                                      "anyOf": [
                                        {
                                          "type": "string",
                                          "enum": [
                                            "DFInternalMessageSent"
                                          ]
                                        },
                                        {
                                          "type": "string",
                                          "enum": [
                                            "DFEmailDropped"
                                          ]
                                        },
                                        {
                                          "type": "string",
                                          "enum": [
                                            "DFEmailDelivered"
                                          ]
                                        },
                                        {
                                          "type": "string",
                                          "enum": [
                                            "DFEmailOpened"
                                          ]
                                        },
                                        {
                                          "type": "string",
                                          "enum": [
                                            "DFEmailClicked"
                                          ]
                                        },
                                        {
                                          "type": "string",
                                          "enum": [
                                            "DFEmailBounced"
                                          ]
                                        },
                                        {
                                          "type": "string",
                                          "enum": [
                                            "DFEmailMarkedSpam"
                                          ]
                                        }
                                      ]
                                    },
                                    "times": {
                                      "type": "number"
                                    },
                                    "templateId": {
                                      "type": "string"
                                    }
                                  },
                                  "required": [
                                    "type",
                                    "id",
                                    "event",
                                    "templateId"
                                  ]
                                },
                                {
                                  "type": "object",
                                  "properties": {
                                    "type": {
                                      "type": "string",
                                      "enum": [
                                        "Broadcast"
                                      ]
                                    },
                                    "id": {
                                      "type": "string"
                                    }
                                  },
                                  "required": [
                                    "type",
                                    "id"
                                  ]
                                },
                                {
                                  "type": "object",
                                  "properties": {
                                    "type": {
                                      "type": "string",
                                      "enum": [
                                        "SubscriptionGroup"
                                      ]
                                    },
                                    "id": {
                                      "type": "string"
                                    },
                                    "subscriptionGroupId": {
                                      "type": "string"
                                    },
                                    "subscriptionGroupType": {
                                      "anyOf": [
                                        {
                                          "type": "string",
                                          "enum": [
                                            "OptIn"
                                          ]
                                        },
                                        {
                                          "type": "string",
                                          "enum": [
                                            "OptOut"
                                          ]
                                        }
                                      ]
                                    }
                                  },
                                  "required": [
                                    "type",
                                    "id",
                                    "subscriptionGroupId",
                                    "subscriptionGroupType"
                                  ]
                                }
                              ]
                            }
                          }
                        },
                        "required": [
                          "entryNode",
                          "nodes"
                        ]
                      },
                      "subscriptionGroupId": {
                        "type": "string"
                      }
                    }
                  },
                  {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "string"
                      }
                    },
                    "required": [
                      "id"
                    ]
                  }
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "string"
                    },
                    "workspaceId": {
                      "type": "string"
                    },
                    "name": {
                      "type": "string"
                    },
                    "definition": {
                      "type": "object",
                      "properties": {
                        "entryNode": {
                          "anyOf": [
                            {
                              "type": "object",
                              "properties": {
                                "type": {
                                  "type": "string",
                                  "enum": [
                                    "Trait"
                                  ]
                                },
                                "id": {
                                  "type": "string"
                                },
                                "path": {
                                  "type": "string"
                                },
                                "operator": {
                                  "anyOf": [
                                    {
                                      "type": "object",
                                      "properties": {
                                        "type": {
                                          "type": "string",
                                          "enum": [
                                            "Within"
                                          ]
                                        },
                                        "windowSeconds": {
                                          "type": "number"
                                        }
                                      },
                                      "required": [
                                        "type",
                                        "windowSeconds"
                                      ]
                                    },
                                    {
                                      "type": "object",
                                      "properties": {
                                        "type": {
                                          "type": "string",
                                          "enum": [
                                            "Equals"
                                          ]
                                        },
                                        "value": {
                                          "anyOf": [
                                            {
                                              "type": "string"
                                            },
                                            {
                                              "type": "number"
                                            }
                                          ]
                                        }
                                      },
                                      "required": [
                                        "type",
                                        "value"
                                      ]
                                    },
                                    {
                                      "type": "object",
                                      "properties": {
                                        "type": {
                                          "type": "string",
                                          "enum": [
                                            "NotEquals"
                                          ]
                                        },
                                        "value": {
                                          "anyOf": [
                                            {
                                              "type": "string"
                                            },
                                            {
                                              "type": "number"
                                            }
                                          ]
                                        }
                                      },
                                      "required": [
                                        "type",
                                        "value"
                                      ]
                                    },
                                    {
                                      "type": "object",
                                      "properties": {
                                        "type": {
                                          "type": "string",
                                          "enum": [
                                            "HasBeen"
                                          ]
                                        },
                                        "comparator": {
                                          "anyOf": [
                                            {
                                              "type": "string",
                                              "enum": [
                                                "GTE"
                                              ]
                                            },
                                            {
                                              "type": "string",
                                              "enum": [
                                                "LT"
                                              ]
                                            }
                                          ]
                                        },
                                        "value": {
                                          "anyOf": [
                                            {
                                              "type": "string"
                                            },
                                            {
                                              "type": "number"
                                            }
                                          ]
                                        },
                                        "windowSeconds": {
                                          "type": "number"
                                        }
                                      },
                                      "required": [
                                        "type",
                                        "comparator",
                                        "value",
                                        "windowSeconds"
                                      ]
                                    },
                                    {
                                      "type": "object",
                                      "properties": {
                                        "type": {
                                          "type": "string",
                                          "enum": [
                                            "Exists"
                                          ]
                                        }
                                      },
                                      "required": [
                                        "type"
                                      ]
                                    }
                                  ]
                                }
                              },
                              "required": [
                                "type",
                                "id",
                                "path",
                                "operator"
                              ]
                            },
                            {
                              "type": "object",
                              "properties": {
                                "type": {
                                  "type": "string",
                                  "enum": [
                                    "And"
                                  ]
                                },
                                "id": {
                                  "type": "string"
                                },
                                "children": {
                                  "type": "array",
                                  "items": {
                                    "type": "string"
                                  }
                                }
                              },
                              "required": [
                                "type",
                                "id",
                                "children"
                              ]
                            },
                            {
                              "type": "object",
                              "properties": {
                                "type": {
                                  "type": "string",
                                  "enum": [
                                    "Or"
                                  ]
                                },
                                "id": {
                                  "type": "string"
                                },
                                "children": {
                                  "type": "array",
                                  "items": {
                                    "type": "string"
                                  }
                                }
                              },
                              "required": [
                                "type",
                                "id",
                                "children"
                              ]
                            },
                            {
                              "type": "object",
                              "properties": {
                                "type": {
                                  "type": "string",
                                  "enum": [
                                    "Performed"
                                  ]
                                },
                                "id": {
                                  "type": "string"
                                },
                                "event": {
                                  "type": "string"
                                },
                                "times": {
                                  "type": "number"
                                },
                                "timesOperator": {
                                  "anyOf": [
                                    {
                                      "type": "string",
                                      "enum": [
                                        "="
                                      ]
                                    },
                                    {
                                      "type": "string",
                                      "enum": [
                                        ">="
                                      ]
                                    },
                                    {
                                      "type": "string",
                                      "enum": [
                                        "<"
                                      ]
                                    }
                                  ]
                                },
                                "withinSeconds": {
                                  "type": "number"
                                },
                                "properties": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "properties": {
                                      "path": {
                                        "type": "string"
                                      },
                                      "operator": {
                                        "anyOf": [
                                          {
                                            "type": "object",
                                            "properties": {
                                              "type": {
                                                "type": "string",
                                                "enum": [
                                                  "Within"
                                                ]
                                              },
                                              "windowSeconds": {
                                                "type": "number"
                                              }
                                            },
                                            "required": [
                                              "type",
                                              "windowSeconds"
                                            ]
                                          },
                                          {
                                            "type": "object",
                                            "properties": {
                                              "type": {
                                                "type": "string",
                                                "enum": [
                                                  "Equals"
                                                ]
                                              },
                                              "value": {
                                                "anyOf": [
                                                  {
                                                    "type": "string"
                                                  },
                                                  {
                                                    "type": "number"
                                                  }
                                                ]
                                              }
                                            },
                                            "required": [
                                              "type",
                                              "value"
                                            ]
                                          },
                                          {
                                            "type": "object",
                                            "properties": {
                                              "type": {
                                                "type": "string",
                                                "enum": [
                                                  "NotEquals"
                                                ]
                                              },
                                              "value": {
                                                "anyOf": [
                                                  {
                                                    "type": "string"
                                                  },
                                                  {
                                                    "type": "number"
                                                  }
                                                ]
                                              }
                                            },
                                            "required": [
                                              "type",
                                              "value"
                                            ]
                                          },
                                          {
                                            "type": "object",
                                            "properties": {
                                              "type": {
                                                "type": "string",
                                                "enum": [
                                                  "HasBeen"
                                                ]
                                              },
                                              "comparator": {
                                                "anyOf": [
                                                  {
                                                    "type": "string",
                                                    "enum": [
                                                      "GTE"
                                                    ]
                                                  },
                                                  {
                                                    "type": "string",
                                                    "enum": [
                                                      "LT"
                                                    ]
                                                  }
                                                ]
                                              },
                                              "value": {
                                                "anyOf": [
                                                  {
                                                    "type": "string"
                                                  },
                                                  {
                                                    "type": "number"
                                                  }
                                                ]
                                              },
                                              "windowSeconds": {
                                                "type": "number"
                                              }
                                            },
                                            "required": [
                                              "type",
                                              "comparator",
                                              "value",
                                              "windowSeconds"
                                            ]
                                          },
                                          {
                                            "type": "object",
                                            "properties": {
                                              "type": {
                                                "type": "string",
                                                "enum": [
                                                  "Exists"
                                                ]
                                              }
                                            },
                                            "required": [
                                              "type"
                                            ]
                                          }
                                        ]
                                      }
                                    },
                                    "required": [
                                      "path",
                                      "operator"
                                    ]
                                  }
                                }
                              },
                              "required": [
                                "type",
                                "id",
                                "event"
                              ]
                            },
                            {
                              "type": "object",
                              "properties": {
                                "type": {
                                  "type": "string",
                                  "enum": [
                                    "LastPerformed"
                                  ]
                                },
                                "id": {
                                  "type": "string"
                                },
                                "event": {
                                  "type": "string"
                                },
                                "whereProperties": {
                                  "description": "Used to select which events are eligible to be considered.",
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "properties": {
                                      "path": {
                                        "type": "string"
                                      },
                                      "operator": {
                                        "anyOf": [
                                          {
                                            "type": "object",
                                            "properties": {
                                              "type": {
                                                "type": "string",
                                                "enum": [
                                                  "Within"
                                                ]
                                              },
                                              "windowSeconds": {
                                                "type": "number"
                                              }
                                            },
                                            "required": [
                                              "type",
                                              "windowSeconds"
                                            ]
                                          },
                                          {
                                            "type": "object",
                                            "properties": {
                                              "type": {
                                                "type": "string",
                                                "enum": [
                                                  "Equals"
                                                ]
                                              },
                                              "value": {
                                                "anyOf": [
                                                  {
                                                    "type": "string"
                                                  },
                                                  {
                                                    "type": "number"
                                                  }
                                                ]
                                              }
                                            },
                                            "required": [
                                              "type",
                                              "value"
                                            ]
                                          },
                                          {
                                            "type": "object",
                                            "properties": {
                                              "type": {
                                                "type": "string",
                                                "enum": [
                                                  "NotEquals"
                                                ]
                                              },
                                              "value": {
                                                "anyOf": [
                                                  {
                                                    "type": "string"
                                                  },
                                                  {
                                                    "type": "number"
                                                  }
                                                ]
                                              }
                                            },
                                            "required": [
                                              "type",
                                              "value"
                                            ]
                                          },
                                          {
                                            "type": "object",
                                            "properties": {
                                              "type": {
                                                "type": "string",
                                                "enum": [
                                                  "HasBeen"
                                                ]
                                              },
                                              "comparator": {
                                                "anyOf": [
                                                  {
                                                    "type": "string",
                                                    "enum": [
                                                      "GTE"
                                                    ]
                                                  },
                                                  {
                                                    "type": "string",
                                                    "enum": [
                                                      "LT"
                                                    ]
                                                  }
                                                ]
                                              },
                                              "value": {
                                                "anyOf": [
                                                  {
                                                    "type": "string"
                                                  },
                                                  {
                                                    "type": "number"
                                                  }
                                                ]
                                              },
                                              "windowSeconds": {
                                                "type": "number"
                                              }
                                            },
                                            "required": [
                                              "type",
                                              "comparator",
                                              "value",
                                              "windowSeconds"
                                            ]
                                          },
                                          {
                                            "type": "object",
                                            "properties": {
                                              "type": {
                                                "type": "string",
                                                "enum": [
                                                  "Exists"
                                                ]
                                              }
                                            },
                                            "required": [
                                              "type"
                                            ]
                                          }
                                        ]
                                      }
                                    },
                                    "required": [
                                      "path",
                                      "operator"
                                    ]
                                  }
                                },
                                "hasProperties": {
                                  "description": "Used to evaluate whether the user is in the segment based on the properties of the selected event.",
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "properties": {
                                      "path": {
                                        "type": "string"
                                      },
                                      "operator": {
                                        "anyOf": [
                                          {
                                            "type": "object",
                                            "properties": {
                                              "type": {
                                                "type": "string",
                                                "enum": [
                                                  "Within"
                                                ]
                                              },
                                              "windowSeconds": {
                                                "type": "number"
                                              }
                                            },
                                            "required": [
                                              "type",
                                              "windowSeconds"
                                            ]
                                          },
                                          {
                                            "type": "object",
                                            "properties": {
                                              "type": {
                                                "type": "string",
                                                "enum": [
                                                  "Equals"
                                                ]
                                              },
                                              "value": {
                                                "anyOf": [
                                                  {
                                                    "type": "string"
                                                  },
                                                  {
                                                    "type": "number"
                                                  }
                                                ]
                                              }
                                            },
                                            "required": [
                                              "type",
                                              "value"
                                            ]
                                          },
                                          {
                                            "type": "object",
                                            "properties": {
                                              "type": {
                                                "type": "string",
                                                "enum": [
                                                  "NotEquals"
                                                ]
                                              },
                                              "value": {
                                                "anyOf": [
                                                  {
                                                    "type": "string"
                                                  },
                                                  {
                                                    "type": "number"
                                                  }
                                                ]
                                              }
                                            },
                                            "required": [
                                              "type",
                                              "value"
                                            ]
                                          },
                                          {
                                            "type": "object",
                                            "properties": {
                                              "type": {
                                                "type": "string",
                                                "enum": [
                                                  "HasBeen"
                                                ]
                                              },
                                              "comparator": {
                                                "anyOf": [
                                                  {
                                                    "type": "string",
                                                    "enum": [
                                                      "GTE"
                                                    ]
                                                  },
                                                  {
                                                    "type": "string",
                                                    "enum": [
                                                      "LT"
                                                    ]
                                                  }
                                                ]
                                              },
                                              "value": {
                                                "anyOf": [
                                                  {
                                                    "type": "string"
                                                  },
                                                  {
                                                    "type": "number"
                                                  }
                                                ]
                                              },
                                              "windowSeconds": {
                                                "type": "number"
                                              }
                                            },
                                            "required": [
                                              "type",
                                              "comparator",
                                              "value",
                                              "windowSeconds"
                                            ]
                                          },
                                          {
                                            "type": "object",
                                            "properties": {
                                              "type": {
                                                "type": "string",
                                                "enum": [
                                                  "Exists"
                                                ]
                                              }
                                            },
                                            "required": [
                                              "type"
                                            ]
                                          }
                                        ]
                                      }
                                    },
                                    "required": [
                                      "path",
                                      "operator"
                                    ]
                                  }
                                }
                              },
                              "required": [
                                "type",
                                "id",
                                "event",
                                "hasProperties"
                              ]
                            },
                            {
                              "type": "object",
                              "properties": {
                                "type": {
                                  "type": "string",
                                  "enum": [
                                    "Email"
                                  ]
                                },
                                "id": {
                                  "type": "string"
                                },
                                "event": {
                                  "anyOf": [
                                    {
                                      "type": "string",
                                      "enum": [
                                        "DFInternalMessageSent"
                                      ]
                                    },
                                    {
                                      "type": "string",
                                      "enum": [
                                        "DFEmailDropped"
                                      ]
                                    },
                                    {
                                      "type": "string",
                                      "enum": [
                                        "DFEmailDelivered"
                                      ]
                                    },
                                    {
                                      "type": "string",
                                      "enum": [
                                        "DFEmailOpened"
                                      ]
                                    },
                                    {
                                      "type": "string",
                                      "enum": [
                                        "DFEmailClicked"
                                      ]
                                    },
                                    {
                                      "type": "string",
                                      "enum": [
                                        "DFEmailBounced"
                                      ]
                                    },
                                    {
                                      "type": "string",
                                      "enum": [
                                        "DFEmailMarkedSpam"
                                      ]
                                    }
                                  ]
                                },
                                "times": {
                                  "type": "number"
                                },
                                "templateId": {
                                  "type": "string"
                                }
                              },
                              "required": [
                                "type",
                                "id",
                                "event",
                                "templateId"
                              ]
                            },
                            {
                              "type": "object",
                              "properties": {
                                "type": {
                                  "type": "string",
                                  "enum": [
                                    "Broadcast"
                                  ]
                                },
                                "id": {
                                  "type": "string"
                                }
                              },
                              "required": [
                                "type",
                                "id"
                              ]
                            },
                            {
                              "type": "object",
                              "properties": {
                                "type": {
                                  "type": "string",
                                  "enum": [
                                    "SubscriptionGroup"
                                  ]
                                },
                                "id": {
                                  "type": "string"
                                },
                                "subscriptionGroupId": {
                                  "type": "string"
                                },
                                "subscriptionGroupType": {
                                  "anyOf": [
                                    {
                                      "type": "string",
                                      "enum": [
                                        "OptIn"
                                      ]
                                    },
                                    {
                                      "type": "string",
                                      "enum": [
                                        "OptOut"
                                      ]
                                    }
                                  ]
                                }
                              },
                              "required": [
                                "type",
                                "id",
                                "subscriptionGroupId",
                                "subscriptionGroupType"
                              ]
                            }
                          ]
                        },
                        "nodes": {
                          "type": "array",
                          "items": {
                            "anyOf": [
                              {
                                "type": "object",
                                "properties": {
                                  "type": {
                                    "type": "string",
                                    "enum": [
                                      "Trait"
                                    ]
                                  },
                                  "id": {
                                    "type": "string"
                                  },
                                  "path": {
                                    "type": "string"
                                  },
                                  "operator": {
                                    "anyOf": [
                                      {
                                        "type": "object",
                                        "properties": {
                                          "type": {
                                            "type": "string",
                                            "enum": [
                                              "Within"
                                            ]
                                          },
                                          "windowSeconds": {
                                            "type": "number"
                                          }
                                        },
                                        "required": [
                                          "type",
                                          "windowSeconds"
                                        ]
                                      },
                                      {
                                        "type": "object",
                                        "properties": {
                                          "type": {
                                            "type": "string",
                                            "enum": [
                                              "Equals"
                                            ]
                                          },
                                          "value": {
                                            "anyOf": [
                                              {
                                                "type": "string"
                                              },
                                              {
                                                "type": "number"
                                              }
                                            ]
                                          }
                                        },
                                        "required": [
                                          "type",
                                          "value"
                                        ]
                                      },
                                      {
                                        "type": "object",
                                        "properties": {
                                          "type": {
                                            "type": "string",
                                            "enum": [
                                              "NotEquals"
                                            ]
                                          },
                                          "value": {
                                            "anyOf": [
                                              {
                                                "type": "string"
                                              },
                                              {
                                                "type": "number"
                                              }
                                            ]
                                          }
                                        },
                                        "required": [
                                          "type",
                                          "value"
                                        ]
                                      },
                                      {
                                        "type": "object",
                                        "properties": {
                                          "type": {
                                            "type": "string",
                                            "enum": [
                                              "HasBeen"
                                            ]
                                          },
                                          "comparator": {
                                            "anyOf": [
                                              {
                                                "type": "string",
                                                "enum": [
                                                  "GTE"
                                                ]
                                              },
                                              {
                                                "type": "string",
                                                "enum": [
                                                  "LT"
                                                ]
                                              }
                                            ]
                                          },
                                          "value": {
                                            "anyOf": [
                                              {
                                                "type": "string"
                                              },
                                              {
                                                "type": "number"
                                              }
                                            ]
                                          },
                                          "windowSeconds": {
                                            "type": "number"
                                          }
                                        },
                                        "required": [
                                          "type",
                                          "comparator",
                                          "value",
                                          "windowSeconds"
                                        ]
                                      },
                                      {
                                        "type": "object",
                                        "properties": {
                                          "type": {
                                            "type": "string",
                                            "enum": [
                                              "Exists"
                                            ]
                                          }
                                        },
                                        "required": [
                                          "type"
                                        ]
                                      }
                                    ]
                                  }
                                },
                                "required": [
                                  "type",
                                  "id",
                                  "path",
                                  "operator"
                                ]
                              },
                              {
                                "type": "object",
                                "properties": {
                                  "type": {
                                    "type": "string",
                                    "enum": [
                                      "And"
                                    ]
                                  },
                                  "id": {
                                    "type": "string"
                                  },
                                  "children": {
                                    "type": "array",
                                    "items": {
                                      "type": "string"
                                    }
                                  }
                                },
                                "required": [
                                  "type",
                                  "id",
                                  "children"
                                ]
                              },
                              {
                                "type": "object",
                                "properties": {
                                  "type": {
                                    "type": "string",
                                    "enum": [
                                      "Or"
                                    ]
                                  },
                                  "id": {
                                    "type": "string"
                                  },
                                  "children": {
                                    "type": "array",
                                    "items": {
                                      "type": "string"
                                    }
                                  }
                                },
                                "required": [
                                  "type",
                                  "id",
                                  "children"
                                ]
                              },
                              {
                                "type": "object",
                                "properties": {
                                  "type": {
                                    "type": "string",
                                    "enum": [
                                      "Performed"
                                    ]
                                  },
                                  "id": {
                                    "type": "string"
                                  },
                                  "event": {
                                    "type": "string"
                                  },
                                  "times": {
                                    "type": "number"
                                  },
                                  "timesOperator": {
                                    "anyOf": [
                                      {
                                        "type": "string",
                                        "enum": [
                                          "="
                                        ]
                                      },
                                      {
                                        "type": "string",
                                        "enum": [
                                          ">="
                                        ]
                                      },
                                      {
                                        "type": "string",
                                        "enum": [
                                          "<"
                                        ]
                                      }
                                    ]
                                  },
                                  "withinSeconds": {
                                    "type": "number"
                                  },
                                  "properties": {
                                    "type": "array",
                                    "items": {
                                      "type": "object",
                                      "properties": {
                                        "path": {
                                          "type": "string"
                                        },
                                        "operator": {
                                          "anyOf": [
                                            {
                                              "type": "object",
                                              "properties": {
                                                "type": {
                                                  "type": "string",
                                                  "enum": [
                                                    "Within"
                                                  ]
                                                },
                                                "windowSeconds": {
                                                  "type": "number"
                                                }
                                              },
                                              "required": [
                                                "type",
                                                "windowSeconds"
                                              ]
                                            },
                                            {
                                              "type": "object",
                                              "properties": {
                                                "type": {
                                                  "type": "string",
                                                  "enum": [
                                                    "Equals"
                                                  ]
                                                },
                                                "value": {
                                                  "anyOf": [
                                                    {
                                                      "type": "string"
                                                    },
                                                    {
                                                      "type": "number"
                                                    }
                                                  ]
                                                }
                                              },
                                              "required": [
                                                "type",
                                                "value"
                                              ]
                                            },
                                            {
                                              "type": "object",
                                              "properties": {
                                                "type": {
                                                  "type": "string",
                                                  "enum": [
                                                    "NotEquals"
                                                  ]
                                                },
                                                "value": {
                                                  "anyOf": [
                                                    {
                                                      "type": "string"
                                                    },
                                                    {
                                                      "type": "number"
                                                    }
                                                  ]
                                                }
                                              },
                                              "required": [
                                                "type",
                                                "value"
                                              ]
                                            },
                                            {
                                              "type": "object",
                                              "properties": {
                                                "type": {
                                                  "type": "string",
                                                  "enum": [
                                                    "HasBeen"
                                                  ]
                                                },
                                                "comparator": {
                                                  "anyOf": [
                                                    {
                                                      "type": "string",
                                                      "enum": [
                                                        "GTE"
                                                      ]
                                                    },
                                                    {
                                                      "type": "string",
                                                      "enum": [
                                                        "LT"
                                                      ]
                                                    }
                                                  ]
                                                },
                                                "value": {
                                                  "anyOf": [
                                                    {
                                                      "type": "string"
                                                    },
                                                    {
                                                      "type": "number"
                                                    }
                                                  ]
                                                },
                                                "windowSeconds": {
                                                  "type": "number"
                                                }
                                              },
                                              "required": [
                                                "type",
                                                "comparator",
                                                "value",
                                                "windowSeconds"
                                              ]
                                            },
                                            {
                                              "type": "object",
                                              "properties": {
                                                "type": {
                                                  "type": "string",
                                                  "enum": [
                                                    "Exists"
                                                  ]
                                                }
                                              },
                                              "required": [
                                                "type"
                                              ]
                                            }
                                          ]
                                        }
                                      },
                                      "required": [
                                        "path",
                                        "operator"
                                      ]
                                    }
                                  }
                                },
                                "required": [
                                  "type",
                                  "id",
                                  "event"
                                ]
                              },
                              {
                                "type": "object",
                                "properties": {
                                  "type": {
                                    "type": "string",
                                    "enum": [
                                      "LastPerformed"
                                    ]
                                  },
                                  "id": {
                                    "type": "string"
                                  },
                                  "event": {
                                    "type": "string"
                                  },
                                  "whereProperties": {
                                    "description": "Used to select which events are eligible to be considered.",
                                    "type": "array",
                                    "items": {
                                      "type": "object",
                                      "properties": {
                                        "path": {
                                          "type": "string"
                                        },
                                        "operator": {
                                          "anyOf": [
                                            {
                                              "type": "object",
                                              "properties": {
                                                "type": {
                                                  "type": "string",
                                                  "enum": [
                                                    "Within"
                                                  ]
                                                },
                                                "windowSeconds": {
                                                  "type": "number"
                                                }
                                              },
                                              "required": [
                                                "type",
                                                "windowSeconds"
                                              ]
                                            },
                                            {
                                              "type": "object",
                                              "properties": {
                                                "type": {
                                                  "type": "string",
                                                  "enum": [
                                                    "Equals"
                                                  ]
                                                },
                                                "value": {
                                                  "anyOf": [
                                                    {
                                                      "type": "string"
                                                    },
                                                    {
                                                      "type": "number"
                                                    }
                                                  ]
                                                }
                                              },
                                              "required": [
                                                "type",
                                                "value"
                                              ]
                                            },
                                            {
                                              "type": "object",
                                              "properties": {
                                                "type": {
                                                  "type": "string",
                                                  "enum": [
                                                    "NotEquals"
                                                  ]
                                                },
                                                "value": {
                                                  "anyOf": [
                                                    {
                                                      "type": "string"
                                                    },
                                                    {
                                                      "type": "number"
                                                    }
                                                  ]
                                                }
                                              },
                                              "required": [
                                                "type",
                                                "value"
                                              ]
                                            },
                                            {
                                              "type": "object",
                                              "properties": {
                                                "type": {
                                                  "type": "string",
                                                  "enum": [
                                                    "HasBeen"
                                                  ]
                                                },
                                                "comparator": {
                                                  "anyOf": [
                                                    {
                                                      "type": "string",
                                                      "enum": [
                                                        "GTE"
                                                      ]
                                                    },
                                                    {
                                                      "type": "string",
                                                      "enum": [
                                                        "LT"
                                                      ]
                                                    }
                                                  ]
                                                },
                                                "value": {
                                                  "anyOf": [
                                                    {
                                                      "type": "string"
                                                    },
                                                    {
                                                      "type": "number"
                                                    }
                                                  ]
                                                },
                                                "windowSeconds": {
                                                  "type": "number"
                                                }
                                              },
                                              "required": [
                                                "type",
                                                "comparator",
                                                "value",
                                                "windowSeconds"
                                              ]
                                            },
                                            {
                                              "type": "object",
                                              "properties": {
                                                "type": {
                                                  "type": "string",
                                                  "enum": [
                                                    "Exists"
                                                  ]
                                                }
                                              },
                                              "required": [
                                                "type"
                                              ]
                                            }
                                          ]
                                        }
                                      },
                                      "required": [
                                        "path",
                                        "operator"
                                      ]
                                    }
                                  },
                                  "hasProperties": {
                                    "description": "Used to evaluate whether the user is in the segment based on the properties of the selected event.",
                                    "type": "array",
                                    "items": {
                                      "type": "object",
                                      "properties": {
                                        "path": {
                                          "type": "string"
                                        },
                                        "operator": {
                                          "anyOf": [
                                            {
                                              "type": "object",
                                              "properties": {
                                                "type": {
                                                  "type": "string",
                                                  "enum": [
                                                    "Within"
                                                  ]
                                                },
                                                "windowSeconds": {
                                                  "type": "number"
                                                }
                                              },
                                              "required": [
                                                "type",
                                                "windowSeconds"
                                              ]
                                            },
                                            {
                                              "type": "object",
                                              "properties": {
                                                "type": {
                                                  "type": "string",
                                                  "enum": [
                                                    "Equals"
                                                  ]
                                                },
                                                "value": {
                                                  "anyOf": [
                                                    {
                                                      "type": "string"
                                                    },
                                                    {
                                                      "type": "number"
                                                    }
                                                  ]
                                                }
                                              },
                                              "required": [
                                                "type",
                                                "value"
                                              ]
                                            },
                                            {
                                              "type": "object",
                                              "properties": {
                                                "type": {
                                                  "type": "string",
                                                  "enum": [
                                                    "NotEquals"
                                                  ]
                                                },
                                                "value": {
                                                  "anyOf": [
                                                    {
                                                      "type": "string"
                                                    },
                                                    {
                                                      "type": "number"
                                                    }
                                                  ]
                                                }
                                              },
                                              "required": [
                                                "type",
                                                "value"
                                              ]
                                            },
                                            {
                                              "type": "object",
                                              "properties": {
                                                "type": {
                                                  "type": "string",
                                                  "enum": [
                                                    "HasBeen"
                                                  ]
                                                },
                                                "comparator": {
                                                  "anyOf": [
                                                    {
                                                      "type": "string",
                                                      "enum": [
                                                        "GTE"
                                                      ]
                                                    },
                                                    {
                                                      "type": "string",
                                                      "enum": [
                                                        "LT"
                                                      ]
                                                    }
                                                  ]
                                                },
                                                "value": {
                                                  "anyOf": [
                                                    {
                                                      "type": "string"
                                                    },
                                                    {
                                                      "type": "number"
                                                    }
                                                  ]
                                                },
                                                "windowSeconds": {
                                                  "type": "number"
                                                }
                                              },
                                              "required": [
                                                "type",
                                                "comparator",
                                                "value",
                                                "windowSeconds"
                                              ]
                                            },
                                            {
                                              "type": "object",
                                              "properties": {
                                                "type": {
                                                  "type": "string",
                                                  "enum": [
                                                    "Exists"
                                                  ]
                                                }
                                              },
                                              "required": [
                                                "type"
                                              ]
                                            }
                                          ]
                                        }
                                      },
                                      "required": [
                                        "path",
                                        "operator"
                                      ]
                                    }
                                  }
                                },
                                "required": [
                                  "type",
                                  "id",
                                  "event",
                                  "hasProperties"
                                ]
                              },
                              {
                                "type": "object",
                                "properties": {
                                  "type": {
                                    "type": "string",
                                    "enum": [
                                      "Email"
                                    ]
                                  },
                                  "id": {
                                    "type": "string"
                                  },
                                  "event": {
                                    "anyOf": [
                                      {
                                        "type": "string",
                                        "enum": [
                                          "DFInternalMessageSent"
                                        ]
                                      },
                                      {
                                        "type": "string",
                                        "enum": [
                                          "DFEmailDropped"
                                        ]
                                      },
                                      {
                                        "type": "string",
                                        "enum": [
                                          "DFEmailDelivered"
                                        ]
                                      },
                                      {
                                        "type": "string",
                                        "enum": [
                                          "DFEmailOpened"
                                        ]
                                      },
                                      {
                                        "type": "string",
                                        "enum": [
                                          "DFEmailClicked"
                                        ]
                                      },
                                      {
                                        "type": "string",
                                        "enum": [
                                          "DFEmailBounced"
                                        ]
                                      },
                                      {
                                        "type": "string",
                                        "enum": [
                                          "DFEmailMarkedSpam"
                                        ]
                                      }
                                    ]
                                  },
                                  "times": {
                                    "type": "number"
                                  },
                                  "templateId": {
                                    "type": "string"
                                  }
                                },
                                "required": [
                                  "type",
                                  "id",
                                  "event",
                                  "templateId"
                                ]
                              },
                              {
                                "type": "object",
                                "properties": {
                                  "type": {
                                    "type": "string",
                                    "enum": [
                                      "Broadcast"
                                    ]
                                  },
                                  "id": {
                                    "type": "string"
                                  }
                                },
                                "required": [
                                  "type",
                                  "id"
                                ]
                              },
                              {
                                "type": "object",
                                "properties": {
                                  "type": {
                                    "type": "string",
                                    "enum": [
                                      "SubscriptionGroup"
                                    ]
                                  },
                                  "id": {
                                    "type": "string"
                                  },
                                  "subscriptionGroupId": {
                                    "type": "string"
                                  },
                                  "subscriptionGroupType": {
                                    "anyOf": [
                                      {
                                        "type": "string",
                                        "enum": [
                                          "OptIn"
                                        ]
                                      },
                                      {
                                        "type": "string",
                                        "enum": [
                                          "OptOut"
                                        ]
                                      }
                                    ]
                                  }
                                },
                                "required": [
                                  "type",
                                  "id",
                                  "subscriptionGroupId",
                                  "subscriptionGroupType"
                                ]
                              }
                            ]
                          }
                        }
                      },
                      "required": [
                        "entryNode",
                        "nodes"
                      ]
                    },
                    "subscriptionGroupId": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "id",
                    "workspaceId",
                    "name",
                    "definition"
                  ]
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Segments"
        ],
        "description": "Delete a segment.",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "string"
                  }
                },
                "required": [
                  "id"
                ]
              }
            }
          },
          "required": true
        },
        "responses": {
          "204": {
            "description": "An empty String",
            "content": {
              "application/json": {
                "schema": {
                  "description": "An empty String",
                  "type": "string"
                }
              }
            }
          },
          "404": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {}
                }
              }
            }
          }
        }
      }
    },
    "/api/segments/download": {
      "get": {
        "tags": [
          "Segments"
        ],
        "description": "Download a csv containing segment assignments.",
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "query",
            "name": "workspaceId",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response"
          }
        }
      }
    },
    "/api/settings/data-sources": {
      "put": {
        "tags": [
          "Settings"
        ],
        "description": "Create or update email provider settings",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "workspaceId": {
                    "type": "string"
                  },
                  "variant": {
                    "type": "object",
                    "properties": {
                      "type": {
                        "type": "string",
                        "enum": [
                          "SegmentIO"
                        ]
                      },
                      "sharedSecret": {
                        "type": "string"
                      }
                    },
                    "required": [
                      "type",
                      "sharedSecret"
                    ]
                  }
                },
                "required": [
                  "workspaceId",
                  "variant"
                ]
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "string"
                    },
                    "workspaceId": {
                      "type": "string"
                    },
                    "variant": {
                      "type": "object",
                      "properties": {
                        "type": {
                          "type": "string",
                          "enum": [
                            "SegmentIO"
                          ]
                        },
                        "sharedSecret": {
                          "type": "string"
                        }
                      },
                      "required": [
                        "type",
                        "sharedSecret"
                      ]
                    }
                  },
                  "required": [
                    "id",
                    "workspaceId",
                    "variant"
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "error"
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/api/settings/sms-providers/default": {
      "put": {
        "tags": [
          "Settings"
        ],
        "description": "Create or update default email provider settings",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "workspaceId": {
                    "type": "string"
                  },
                  "smsProviderId": {
                    "type": "string"
                  }
                },
                "required": [
                  "workspaceId",
                  "smsProviderId"
                ]
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "anyOf": [
                    {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "string"
                        },
                        "workspaceId": {
                          "type": "string"
                        },
                        "type": {
                          "type": "string",
                          "enum": [
                            "Twilio"
                          ]
                        }
                      },
                      "required": [
                        "id",
                        "workspaceId"
                      ]
                    },
                    {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "string"
                        },
                        "workspaceId": {
                          "type": "string"
                        },
                        "type": {
                          "type": "string",
                          "enum": [
                            "Test"
                          ]
                        }
                      },
                      "required": [
                        "id",
                        "workspaceId",
                        "type"
                      ]
                    }
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/api/settings/email-providers/default": {
      "put": {
        "tags": [
          "Settings"
        ],
        "description": "Create or update email provider default",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "workspaceId": {
                    "type": "string"
                  },
                  "emailProviderId": {
                    "type": "string"
                  },
                  "fromAddress": {
                    "anyOf": [
                      {
                        "type": "string"
                      },
                      {
                        "type": "null"
                      }
                    ]
                  }
                },
                "required": [
                  "workspaceId",
                  "emailProviderId",
                  "fromAddress"
                ]
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "An empty String",
            "content": {
              "application/json": {
                "schema": {
                  "description": "An empty String",
                  "type": "string"
                }
              }
            }
          }
        }
      }
    },
    "/api/settings/write-keys": {
      "put": {
        "tags": [
          "Settings"
        ],
        "description": "Create a write key.",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "writeKeyName": {
                    "type": "string"
                  },
                  "writeKeyValue": {
                    "type": "string"
                  },
                  "workspaceId": {
                    "type": "string"
                  }
                },
                "required": [
                  "writeKeyName",
                  "writeKeyValue",
                  "workspaceId"
                ]
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "writeKeyName": {
                      "type": "string"
                    },
                    "writeKeyValue": {
                      "type": "string"
                    },
                    "secretId": {
                      "type": "string"
                    },
                    "workspaceId": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "writeKeyName",
                    "writeKeyValue",
                    "secretId",
                    "workspaceId"
                  ]
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "Settings"
        ],
        "description": "Get write keys.",
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "query",
            "name": "workspaceId",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "writeKeyName": {
                        "type": "string"
                      },
                      "writeKeyValue": {
                        "type": "string"
                      },
                      "secretId": {
                        "type": "string"
                      },
                      "workspaceId": {
                        "type": "string"
                      }
                    },
                    "required": [
                      "writeKeyName",
                      "writeKeyValue",
                      "secretId",
                      "workspaceId"
                    ]
                  }
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Settings"
        ],
        "description": "Delete a write key.",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "writeKeyName": {
                    "type": "string"
                  },
                  "workspaceId": {
                    "type": "string"
                  }
                },
                "required": [
                  "writeKeyName",
                  "workspaceId"
                ]
              }
            }
          },
          "required": true
        },
        "responses": {
          "204": {
            "description": "An empty String",
            "content": {
              "application/json": {
                "schema": {
                  "description": "An empty String",
                  "type": "string"
                }
              }
            }
          }
        }
      }
    },
    "/api/integrations/": {
      "put": {
        "tags": [
          "Integrations"
        ],
        "description": "Create or update an integration.",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "definition": {
                    "type": "object",
                    "properties": {
                      "type": {
                        "type": "string",
                        "enum": [
                          "Sync"
                        ]
                      },
                      "subscribedSegments": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        }
                      },
                      "subscribedUserProperties": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        }
                      }
                    },
                    "required": [
                      "type",
                      "subscribedSegments",
                      "subscribedUserProperties"
                    ]
                  },
                  "enabled": {
                    "type": "boolean"
                  },
                  "workspaceId": {
                    "type": "string"
                  },
                  "name": {
                    "type": "string"
                  }
                },
                "required": [
                  "workspaceId",
                  "name"
                ]
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "string"
                    },
                    "name": {
                      "type": "string"
                    },
                    "definition": {
                      "type": "object",
                      "properties": {
                        "type": {
                          "type": "string",
                          "enum": [
                            "Sync"
                          ]
                        },
                        "subscribedSegments": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          }
                        },
                        "subscribedUserProperties": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          }
                        }
                      },
                      "required": [
                        "type",
                        "subscribedSegments",
                        "subscribedUserProperties"
                      ]
                    },
                    "enabled": {
                      "type": "boolean"
                    },
                    "workspaceId": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "id",
                    "name",
                    "definition",
                    "enabled",
                    "workspaceId"
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/api/subscription-groups/": {
      "put": {
        "tags": [
          "Subscription Groups"
        ],
        "description": "Create or update a subscription group.",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "string"
                  },
                  "workspaceId": {
                    "type": "string"
                  },
                  "name": {
                    "type": "string"
                  },
                  "channel": {
                    "anyOf": [
                      {
                        "type": "string",
                        "enum": [
                          "Email"
                        ]
                      },
                      {
                        "type": "string",
                        "enum": [
                          "MobilePush"
                        ]
                      },
                      {
                        "type": "string",
                        "enum": [
                          "Sms"
                        ]
                      }
                    ]
                  },
                  "type": {
                    "anyOf": [
                      {
                        "type": "string",
                        "enum": [
                          "OptIn"
                        ]
                      },
                      {
                        "type": "string",
                        "enum": [
                          "OptOut"
                        ]
                      }
                    ]
                  }
                },
                "required": [
                  "id",
                  "workspaceId",
                  "name",
                  "channel",
                  "type"
                ]
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "string"
                    },
                    "workspaceId": {
                      "type": "string"
                    },
                    "name": {
                      "type": "string"
                    },
                    "channel": {
                      "anyOf": [
                        {
                          "type": "string",
                          "enum": [
                            "Email"
                          ]
                        },
                        {
                          "type": "string",
                          "enum": [
                            "MobilePush"
                          ]
                        },
                        {
                          "type": "string",
                          "enum": [
                            "Sms"
                          ]
                        }
                      ]
                    },
                    "type": {
                      "anyOf": [
                        {
                          "type": "string",
                          "enum": [
                            "OptIn"
                          ]
                        },
                        {
                          "type": "string",
                          "enum": [
                            "OptOut"
                          ]
                        }
                      ]
                    },
                    "createdAt": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "id",
                    "workspaceId",
                    "name",
                    "channel",
                    "type"
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string"
                    },
                    "rowErrors": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "row": {
                            "type": "number"
                          },
                          "error": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "row",
                          "error"
                        ]
                      }
                    }
                  },
                  "required": [
                    "message"
                  ]
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Subscription Groups"
        ],
        "description": "Delete a subscription group and its corresponding segment.",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "string"
                  }
                },
                "required": [
                  "id"
                ]
              }
            }
          },
          "required": true
        },
        "responses": {
          "204": {
            "description": "An empty String",
            "content": {
              "application/json": {
                "schema": {
                  "description": "An empty String",
                  "type": "string"
                }
              }
            }
          },
          "400": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "message"
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/api/subscription-groups/upload-csv": {
      "post": {
        "tags": [
          "Subscription Groups"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "csv": {
                    "type": "string"
                  }
                },
                "required": [
                  "csv"
                ]
              }
            }
          },
          "required": true
        },
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "header",
            "name": "df-workspace-id",
            "required": true,
            "description": "Id of the workspace which will receive the segment payload. Defaults to the default workspace id, for single tenant systems"
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "header",
            "name": "df-subscription-group-id",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response"
          }
        }
      }
    },
    "/api/user-properties/": {
      "get": {
        "tags": [
          "User Properties"
        ],
        "description": "Get all user properties.",
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "query",
            "name": "workspaceId",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "userProperties": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "string"
                          },
                          "workspaceId": {
                            "type": "string"
                          },
                          "name": {
                            "type": "string"
                          },
                          "definition": {
                            "anyOf": [
                              {
                                "type": "object",
                                "properties": {
                                  "type": {
                                    "type": "string",
                                    "enum": [
                                      "Id"
                                    ]
                                  }
                                },
                                "required": [
                                  "type"
                                ]
                              },
                              {
                                "type": "object",
                                "properties": {
                                  "type": {
                                    "type": "string",
                                    "enum": [
                                      "AnonymousId"
                                    ]
                                  }
                                },
                                "required": [
                                  "type"
                                ]
                              },
                              {
                                "type": "object",
                                "properties": {
                                  "type": {
                                    "type": "string",
                                    "enum": [
                                      "Group"
                                    ]
                                  },
                                  "entry": {
                                    "type": "string"
                                  },
                                  "nodes": {
                                    "type": "array",
                                    "items": {
                                      "anyOf": [
                                        {
                                          "type": "object",
                                          "properties": {
                                            "id": {
                                              "type": "string"
                                            },
                                            "type": {
                                              "type": "string",
                                              "enum": [
                                                "AnyOf"
                                              ]
                                            },
                                            "children": {
                                              "type": "array",
                                              "items": {
                                                "type": "string"
                                              }
                                            }
                                          },
                                          "required": [
                                            "id",
                                            "type",
                                            "children"
                                          ]
                                        },
                                        {
                                          "anyOf": [
                                            {
                                              "type": "object",
                                              "properties": {
                                                "id": {
                                                  "type": "string"
                                                },
                                                "type": {
                                                  "type": "string",
                                                  "enum": [
                                                    "Trait"
                                                  ]
                                                },
                                                "path": {
                                                  "type": "string"
                                                }
                                              },
                                              "required": [
                                                "type",
                                                "path"
                                              ]
                                            },
                                            {
                                              "type": "object",
                                              "properties": {
                                                "id": {
                                                  "type": "string"
                                                },
                                                "type": {
                                                  "type": "string",
                                                  "enum": [
                                                    "Performed"
                                                  ]
                                                },
                                                "event": {
                                                  "type": "string"
                                                },
                                                "path": {
                                                  "type": "string"
                                                }
                                              },
                                              "required": [
                                                "type",
                                                "event",
                                                "path"
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  }
                                },
                                "required": [
                                  "type",
                                  "entry",
                                  "nodes"
                                ]
                              },
                              {
                                "anyOf": [
                                  {
                                    "type": "object",
                                    "properties": {
                                      "id": {
                                        "type": "string"
                                      },
                                      "type": {
                                        "type": "string",
                                        "enum": [
                                          "Trait"
                                        ]
                                      },
                                      "path": {
                                        "type": "string"
                                      }
                                    },
                                    "required": [
                                      "type",
                                      "path"
                                    ]
                                  },
                                  {
                                    "type": "object",
                                    "properties": {
                                      "id": {
                                        "type": "string"
                                      },
                                      "type": {
                                        "type": "string",
                                        "enum": [
                                          "Performed"
                                        ]
                                      },
                                      "event": {
                                        "type": "string"
                                      },
                                      "path": {
                                        "type": "string"
                                      }
                                    },
                                    "required": [
                                      "type",
                                      "event",
                                      "path"
                                    ]
                                  }
                                ]
                              },
                              {
                                "type": "object",
                                "properties": {
                                  "id": {
                                    "type": "string"
                                  },
                                  "type": {
                                    "type": "string",
                                    "enum": [
                                      "PerformedMany"
                                    ]
                                  },
                                  "or": {
                                    "type": "array",
                                    "items": {
                                      "type": "object",
                                      "properties": {
                                        "event": {
                                          "type": "string"
                                        }
                                      },
                                      "required": [
                                        "event"
                                      ]
                                    }
                                  }
                                },
                                "required": [
                                  "type",
                                  "or"
                                ]
                              }
                            ]
                          },
                          "exampleValue": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "id",
                          "workspaceId",
                          "name",
                          "definition"
                        ]
                      }
                    }
                  },
                  "required": [
                    "userProperties"
                  ]
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "User Properties"
        ],
        "description": "Create or update a user property.",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "allOf": [
                  {
                    "type": "object",
                    "properties": {
                      "workspaceId": {
                        "type": "string"
                      },
                      "definition": {
                        "anyOf": [
                          {
                            "type": "object",
                            "properties": {
                              "type": {
                                "type": "string",
                                "enum": [
                                  "Id"
                                ]
                              }
                            },
                            "required": [
                              "type"
                            ]
                          },
                          {
                            "type": "object",
                            "properties": {
                              "type": {
                                "type": "string",
                                "enum": [
                                  "AnonymousId"
                                ]
                              }
                            },
                            "required": [
                              "type"
                            ]
                          },
                          {
                            "type": "object",
                            "properties": {
                              "type": {
                                "type": "string",
                                "enum": [
                                  "Group"
                                ]
                              },
                              "entry": {
                                "type": "string"
                              },
                              "nodes": {
                                "type": "array",
                                "items": {
                                  "anyOf": [
                                    {
                                      "type": "object",
                                      "properties": {
                                        "id": {
                                          "type": "string"
                                        },
                                        "type": {
                                          "type": "string",
                                          "enum": [
                                            "AnyOf"
                                          ]
                                        },
                                        "children": {
                                          "type": "array",
                                          "items": {
                                            "type": "string"
                                          }
                                        }
                                      },
                                      "required": [
                                        "id",
                                        "type",
                                        "children"
                                      ]
                                    },
                                    {
                                      "anyOf": [
                                        {
                                          "type": "object",
                                          "properties": {
                                            "id": {
                                              "type": "string"
                                            },
                                            "type": {
                                              "type": "string",
                                              "enum": [
                                                "Trait"
                                              ]
                                            },
                                            "path": {
                                              "type": "string"
                                            }
                                          },
                                          "required": [
                                            "type",
                                            "path"
                                          ]
                                        },
                                        {
                                          "type": "object",
                                          "properties": {
                                            "id": {
                                              "type": "string"
                                            },
                                            "type": {
                                              "type": "string",
                                              "enum": [
                                                "Performed"
                                              ]
                                            },
                                            "event": {
                                              "type": "string"
                                            },
                                            "path": {
                                              "type": "string"
                                            }
                                          },
                                          "required": [
                                            "type",
                                            "event",
                                            "path"
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              }
                            },
                            "required": [
                              "type",
                              "entry",
                              "nodes"
                            ]
                          },
                          {
                            "anyOf": [
                              {
                                "type": "object",
                                "properties": {
                                  "id": {
                                    "type": "string"
                                  },
                                  "type": {
                                    "type": "string",
                                    "enum": [
                                      "Trait"
                                    ]
                                  },
                                  "path": {
                                    "type": "string"
                                  }
                                },
                                "required": [
                                  "type",
                                  "path"
                                ]
                              },
                              {
                                "type": "object",
                                "properties": {
                                  "id": {
                                    "type": "string"
                                  },
                                  "type": {
                                    "type": "string",
                                    "enum": [
                                      "Performed"
                                    ]
                                  },
                                  "event": {
                                    "type": "string"
                                  },
                                  "path": {
                                    "type": "string"
                                  }
                                },
                                "required": [
                                  "type",
                                  "event",
                                  "path"
                                ]
                              }
                            ]
                          },
                          {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "string"
                              },
                              "type": {
                                "type": "string",
                                "enum": [
                                  "PerformedMany"
                                ]
                              },
                              "or": {
                                "type": "array",
                                "items": {
                                  "type": "object",
                                  "properties": {
                                    "event": {
                                      "type": "string"
                                    }
                                  },
                                  "required": [
                                    "event"
                                  ]
                                }
                              }
                            },
                            "required": [
                              "type",
                              "or"
                            ]
                          }
                        ]
                      },
                      "exampleValue": {
                        "type": "string"
                      }
                    }
                  },
                  {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "string"
                      },
                      "name": {
                        "type": "string"
                      }
                    },
                    "required": [
                      "id",
                      "name"
                    ]
                  }
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "string"
                    },
                    "workspaceId": {
                      "type": "string"
                    },
                    "name": {
                      "type": "string"
                    },
                    "definition": {
                      "anyOf": [
                        {
                          "type": "object",
                          "properties": {
                            "type": {
                              "type": "string",
                              "enum": [
                                "Id"
                              ]
                            }
                          },
                          "required": [
                            "type"
                          ]
                        },
                        {
                          "type": "object",
                          "properties": {
                            "type": {
                              "type": "string",
                              "enum": [
                                "AnonymousId"
                              ]
                            }
                          },
                          "required": [
                            "type"
                          ]
                        },
                        {
                          "type": "object",
                          "properties": {
                            "type": {
                              "type": "string",
                              "enum": [
                                "Group"
                              ]
                            },
                            "entry": {
                              "type": "string"
                            },
                            "nodes": {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "object",
                                    "properties": {
                                      "id": {
                                        "type": "string"
                                      },
                                      "type": {
                                        "type": "string",
                                        "enum": [
                                          "AnyOf"
                                        ]
                                      },
                                      "children": {
                                        "type": "array",
                                        "items": {
                                          "type": "string"
                                        }
                                      }
                                    },
                                    "required": [
                                      "id",
                                      "type",
                                      "children"
                                    ]
                                  },
                                  {
                                    "anyOf": [
                                      {
                                        "type": "object",
                                        "properties": {
                                          "id": {
                                            "type": "string"
                                          },
                                          "type": {
                                            "type": "string",
                                            "enum": [
                                              "Trait"
                                            ]
                                          },
                                          "path": {
                                            "type": "string"
                                          }
                                        },
                                        "required": [
                                          "type",
                                          "path"
                                        ]
                                      },
                                      {
                                        "type": "object",
                                        "properties": {
                                          "id": {
                                            "type": "string"
                                          },
                                          "type": {
                                            "type": "string",
                                            "enum": [
                                              "Performed"
                                            ]
                                          },
                                          "event": {
                                            "type": "string"
                                          },
                                          "path": {
                                            "type": "string"
                                          }
                                        },
                                        "required": [
                                          "type",
                                          "event",
                                          "path"
                                        ]
                                      }
                                    ]
                                  }
                                ]
                              }
                            }
                          },
                          "required": [
                            "type",
                            "entry",
                            "nodes"
                          ]
                        },
                        {
                          "anyOf": [
                            {
                              "type": "object",
                              "properties": {
                                "id": {
                                  "type": "string"
                                },
                                "type": {
                                  "type": "string",
                                  "enum": [
                                    "Trait"
                                  ]
                                },
                                "path": {
                                  "type": "string"
                                }
                              },
                              "required": [
                                "type",
                                "path"
                              ]
                            },
                            {
                              "type": "object",
                              "properties": {
                                "id": {
                                  "type": "string"
                                },
                                "type": {
                                  "type": "string",
                                  "enum": [
                                    "Performed"
                                  ]
                                },
                                "event": {
                                  "type": "string"
                                },
                                "path": {
                                  "type": "string"
                                }
                              },
                              "required": [
                                "type",
                                "event",
                                "path"
                              ]
                            }
                          ]
                        },
                        {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "string"
                            },
                            "type": {
                              "type": "string",
                              "enum": [
                                "PerformedMany"
                              ]
                            },
                            "or": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "properties": {
                                  "event": {
                                    "type": "string"
                                  }
                                },
                                "required": [
                                  "event"
                                ]
                              }
                            }
                          },
                          "required": [
                            "type",
                            "or"
                          ]
                        }
                      ]
                    },
                    "exampleValue": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "id",
                    "workspaceId",
                    "name",
                    "definition"
                  ]
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "User Properties"
        ],
        "description": "Delete a user property.",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "workspaceId": {
                    "type": "string"
                  },
                  "id": {
                    "type": "string"
                  }
                },
                "required": [
                  "workspaceId",
                  "id"
                ]
              }
            }
          },
          "required": true
        },
        "responses": {
          "204": {
            "description": "An empty String",
            "content": {
              "application/json": {
                "schema": {
                  "description": "An empty String",
                  "type": "string"
                }
              }
            }
          },
          "404": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {}
                }
              }
            }
          }
        }
      }
    },
    "/api/broadcasts/": {
      "put": {
        "tags": [
          "Broadcasts"
        ],
        "description": "Update a broadcast.",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "workspaceId": {
                    "type": "string"
                  },
                  "id": {
                    "type": "string"
                  },
                  "name": {
                    "type": "string"
                  }
                },
                "required": [
                  "workspaceId",
                  "id"
                ]
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "string"
                    },
                    "workspaceId": {
                      "type": "string"
                    },
                    "name": {
                      "type": "string"
                    },
                    "segmentId": {
                      "type": "string"
                    },
                    "journeyId": {
                      "type": "string"
                    },
                    "messageTemplateId": {
                      "type": "string"
                    },
                    "status": {
                      "anyOf": [
                        {
                          "type": "string",
                          "enum": [
                            "NotStarted"
                          ]
                        },
                        {
                          "type": "string",
                          "enum": [
                            "InProgress"
                          ]
                        },
                        {
                          "type": "string",
                          "enum": [
                            "Triggered"
                          ]
                        }
                      ]
                    },
                    "createdAt": {
                      "type": "number"
                    },
                    "triggeredAt": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "id",
                    "workspaceId",
                    "name",
                    "status",
                    "createdAt"
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/api/broadcasts/trigger": {
      "put": {
        "tags": [
          "Broadcasts"
        ],
        "description": "Trigger a broadcast.",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "workspaceId": {
                    "type": "string"
                  },
                  "id": {
                    "type": "string"
                  }
                },
                "required": [
                  "workspaceId",
                  "id"
                ]
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "string"
                    },
                    "workspaceId": {
                      "type": "string"
                    },
                    "name": {
                      "type": "string"
                    },
                    "segmentId": {
                      "type": "string"
                    },
                    "journeyId": {
                      "type": "string"
                    },
                    "messageTemplateId": {
                      "type": "string"
                    },
                    "status": {
                      "anyOf": [
                        {
                          "type": "string",
                          "enum": [
                            "NotStarted"
                          ]
                        },
                        {
                          "type": "string",
                          "enum": [
                            "InProgress"
                          ]
                        },
                        {
                          "type": "string",
                          "enum": [
                            "Triggered"
                          ]
                        }
                      ]
                    },
                    "createdAt": {
                      "type": "number"
                    },
                    "triggeredAt": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "id",
                    "workspaceId",
                    "name",
                    "status",
                    "createdAt"
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/api/deliveries/": {
      "get": {
        "tags": [
          "Deliveries"
        ],
        "description": "Search through deliveries.",
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "query",
            "name": "workspaceId",
            "required": true
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "query",
            "name": "fromIdentifier",
            "required": false
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "query",
            "name": "toIdentifier",
            "required": false
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "query",
            "name": "journeyId",
            "required": false
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "query",
            "name": "userId",
            "required": false
          },
          {
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "enum": [
                    "Email"
                  ]
                },
                {
                  "type": "string",
                  "enum": [
                    "MobilePush"
                  ]
                },
                {
                  "type": "string",
                  "enum": [
                    "Sms"
                  ]
                }
              ]
            },
            "in": "query",
            "name": "channel",
            "required": false
          },
          {
            "schema": {
              "type": "number"
            },
            "in": "query",
            "name": "limit",
            "required": false
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "query",
            "name": "cursor",
            "required": false
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "workspaceId": {
                      "type": "string"
                    },
                    "items": {
                      "type": "array",
                      "items": {
                        "anyOf": [
                          {
                            "type": "object",
                            "properties": {
                              "status": {
                                "type": "string"
                              },
                              "variant": {
                                "type": "object",
                                "properties": {
                                  "type": {
                                    "type": "string",
                                    "enum": [
                                      "Sms"
                                    ]
                                  },
                                  "provider": {
                                    "anyOf": [
                                      {
                                        "type": "object",
                                        "properties": {
                                          "type": {
                                            "type": "string",
                                            "enum": [
                                              "Twilio"
                                            ]
                                          },
                                          "sid": {
                                            "type": "string"
                                          }
                                        },
                                        "required": [
                                          "type",
                                          "sid"
                                        ]
                                      },
                                      {
                                        "type": "object",
                                        "properties": {
                                          "type": {
                                            "type": "string",
                                            "enum": [
                                              "Test"
                                            ]
                                          }
                                        },
                                        "required": [
                                          "type"
                                        ]
                                      }
                                    ]
                                  },
                                  "to": {
                                    "type": "string"
                                  },
                                  "body": {
                                    "type": "string"
                                  }
                                },
                                "required": [
                                  "type",
                                  "provider",
                                  "to",
                                  "body"
                                ]
                              },
                              "sentAt": {
                                "type": "string"
                              },
                              "updatedAt": {
                                "type": "string"
                              },
                              "journeyId": {
                                "type": "string"
                              },
                              "userId": {
                                "type": "string"
                              },
                              "originMessageId": {
                                "type": "string"
                              },
                              "templateId": {
                                "type": "string"
                              }
                            },
                            "required": [
                              "status",
                              "variant",
                              "sentAt",
                              "updatedAt",
                              "journeyId",
                              "userId",
                              "originMessageId",
                              "templateId"
                            ]
                          },
                          {
                            "type": "object",
                            "properties": {
                              "status": {
                                "anyOf": [
                                  {
                                    "type": "string",
                                    "enum": [
                                      "DFInternalMessageSent"
                                    ]
                                  },
                                  {
                                    "type": "string",
                                    "enum": [
                                      "DFEmailDropped"
                                    ]
                                  },
                                  {
                                    "type": "string",
                                    "enum": [
                                      "DFEmailDelivered"
                                    ]
                                  },
                                  {
                                    "type": "string",
                                    "enum": [
                                      "DFEmailOpened"
                                    ]
                                  },
                                  {
                                    "type": "string",
                                    "enum": [
                                      "DFEmailClicked"
                                    ]
                                  },
                                  {
                                    "type": "string",
                                    "enum": [
                                      "DFEmailBounced"
                                    ]
                                  },
                                  {
                                    "type": "string",
                                    "enum": [
                                      "DFEmailMarkedSpam"
                                    ]
                                  }
                                ]
                              },
                              "variant": {
                                "type": "object",
                                "properties": {
                                  "type": {
                                    "type": "string",
                                    "enum": [
                                      "Email"
                                    ]
                                  },
                                  "provider": {
                                    "anyOf": [
                                      {
                                        "type": "object",
                                        "properties": {
                                          "type": {
                                            "type": "string",
                                            "enum": [
                                              "SendGrid"
                                            ]
                                          }
                                        },
                                        "required": [
                                          "type"
                                        ]
                                      },
                                      {
                                        "type": "object",
                                        "properties": {
                                          "type": {
                                            "type": "string",
                                            "enum": [
                                              "AmazonSes"
                                            ]
                                          },
                                          "messageId": {
                                            "type": "string"
                                          }
                                        },
                                        "required": [
                                          "type"
                                        ]
                                      },
                                      {
                                        "type": "object",
                                        "properties": {
                                          "type": {
                                            "type": "string",
                                            "enum": [
                                              "PostMark"
                                            ]
                                          }
                                        },
                                        "required": [
                                          "type"
                                        ]
                                      },
                                      {
                                        "type": "object",
                                        "properties": {
                                          "type": {
                                            "type": "string",
                                            "enum": [
                                              "Resend"
                                            ]
                                          }
                                        },
                                        "required": [
                                          "type"
                                        ]
                                      },
                                      {
                                        "type": "object",
                                        "properties": {
                                          "type": {
                                            "type": "string",
                                            "enum": [
                                              "Smtp"
                                            ]
                                          },
                                          "messageId": {
                                            "type": "string"
                                          }
                                        },
                                        "required": [
                                          "type",
                                          "messageId"
                                        ]
                                      },
                                      {
                                        "type": "object",
                                        "properties": {
                                          "type": {
                                            "type": "string",
                                            "enum": [
                                              "Test"
                                            ]
                                          }
                                        },
                                        "required": [
                                          "type"
                                        ]
                                      }
                                    ]
                                  },
                                  "to": {
                                    "type": "string"
                                  },
                                  "from": {
                                    "type": "string"
                                  },
                                  "body": {
                                    "type": "string"
                                  },
                                  "subject": {
                                    "type": "string"
                                  },
                                  "replyTo": {
                                    "type": "string"
                                  }
                                },
                                "required": [
                                  "type",
                                  "provider",
                                  "to",
                                  "from",
                                  "body",
                                  "subject"
                                ]
                              },
                              "sentAt": {
                                "type": "string"
                              },
                              "updatedAt": {
                                "type": "string"
                              },
                              "journeyId": {
                                "type": "string"
                              },
                              "userId": {
                                "type": "string"
                              },
                              "originMessageId": {
                                "type": "string"
                              },
                              "templateId": {
                                "type": "string"
                              }
                            },
                            "required": [
                              "status",
                              "variant",
                              "sentAt",
                              "updatedAt",
                              "journeyId",
                              "userId",
                              "originMessageId",
                              "templateId"
                            ]
                          },
                          {
                            "type": "object",
                            "properties": {
                              "status": {
                                "anyOf": [
                                  {
                                    "type": "string",
                                    "enum": [
                                      "DFInternalMessageSent"
                                    ]
                                  },
                                  {
                                    "type": "string",
                                    "enum": [
                                      "DFEmailDropped"
                                    ]
                                  },
                                  {
                                    "type": "string",
                                    "enum": [
                                      "DFEmailDelivered"
                                    ]
                                  },
                                  {
                                    "type": "string",
                                    "enum": [
                                      "DFEmailOpened"
                                    ]
                                  },
                                  {
                                    "type": "string",
                                    "enum": [
                                      "DFEmailClicked"
                                    ]
                                  },
                                  {
                                    "type": "string",
                                    "enum": [
                                      "DFEmailBounced"
                                    ]
                                  },
                                  {
                                    "type": "string",
                                    "enum": [
                                      "DFEmailMarkedSpam"
                                    ]
                                  }
                                ]
                              },
                              "to": {
                                "type": "string"
                              },
                              "channel": {
                                "type": "string",
                                "enum": [
                                  "Email"
                                ]
                              },
                              "from": {
                                "type": "string"
                              },
                              "body": {
                                "type": "string"
                              },
                              "subject": {
                                "type": "string"
                              },
                              "replyTo": {
                                "type": "string"
                              },
                              "sentAt": {
                                "type": "string"
                              },
                              "updatedAt": {
                                "type": "string"
                              },
                              "journeyId": {
                                "type": "string"
                              },
                              "userId": {
                                "type": "string"
                              },
                              "originMessageId": {
                                "type": "string"
                              },
                              "templateId": {
                                "type": "string"
                              }
                            },
                            "required": [
                              "status",
                              "to",
                              "channel",
                              "sentAt",
                              "updatedAt",
                              "journeyId",
                              "userId",
                              "originMessageId",
                              "templateId"
                            ]
                          }
                        ]
                      }
                    },
                    "cursor": {
                      "type": "string"
                    },
                    "previousCursor": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "workspaceId",
                    "items"
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/api/admin-keys/": {
      "post": {
        "tags": [
          "API Key",
          "Admin"
        ],
        "description": "Create an admin API key.",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "workspaceId": {
                    "type": "string"
                  },
                  "name": {
                    "type": "string"
                  }
                },
                "required": [
                  "workspaceId",
                  "name"
                ]
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "string"
                    },
                    "apiKey": {
                      "type": "string"
                    },
                    "name": {
                      "type": "string"
                    },
                    "workspaceId": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "id",
                    "apiKey",
                    "name",
                    "workspaceId"
                  ]
                }
              }
            }
          },
          "409": {
            "description": "An empty String",
            "content": {
              "application/json": {
                "schema": {
                  "description": "An empty String",
                  "type": "string"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "API Key",
          "Admin"
        ],
        "description": "Delete an admin API key.",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "workspaceId": {
                    "type": "string"
                  },
                  "id": {
                    "type": "string"
                  }
                },
                "required": [
                  "workspaceId",
                  "id"
                ]
              }
            }
          },
          "required": true
        },
        "responses": {
          "204": {
            "description": "An empty String",
            "content": {
              "application/json": {
                "schema": {
                  "description": "An empty String",
                  "type": "string"
                }
              }
            }
          }
        }
      }
    },
    "/api/users/": {
      "get": {
        "tags": [
          "Users"
        ],
        "description": "Get list of users",
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "query",
            "name": "cursor",
            "required": false
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "query",
            "name": "segmentId",
            "required": false
          },
          {
            "schema": {
              "type": "number"
            },
            "in": "query",
            "name": "limit",
            "required": false
          },
          {
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "enum": [
                    "after"
                  ]
                },
                {
                  "type": "string",
                  "enum": [
                    "before"
                  ]
                }
              ]
            },
            "in": "query",
            "name": "direction",
            "required": false
          },
          {
            "schema": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "in": "query",
            "name": "userIds",
            "required": false
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "query",
            "name": "workspaceId",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "users": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "string"
                          },
                          "properties": {
                            "type": "object",
                            "additionalProperties": {
                              "type": "object",
                              "properties": {
                                "name": {
                                  "type": "string"
                                },
                                "value": {}
                              },
                              "required": [
                                "name",
                                "value"
                              ]
                            }
                          },
                          "segments": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "id": {
                                  "type": "string"
                                },
                                "name": {
                                  "type": "string"
                                }
                              },
                              "required": [
                                "id",
                                "name"
                              ]
                            }
                          }
                        },
                        "required": [
                          "id",
                          "properties",
                          "segments"
                        ]
                      }
                    },
                    "previousCursor": {
                      "type": "string"
                    },
                    "nextCursor": {
                      "type": "string"
                    },
                    "userCount": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "users",
                    "userCount"
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "message"
                  ]
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Users"
        ],
        "description": "Delete events, and computed properties and segments for specific users.",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "workspaceId": {
                    "type": "string"
                  },
                  "userIds": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  }
                },
                "required": [
                  "workspaceId",
                  "userIds"
                ]
              }
            }
          },
          "required": true
        },
        "responses": {
          "204": {
            "description": "An empty String",
            "content": {
              "application/json": {
                "schema": {
                  "description": "An empty String",
                  "type": "string"
                }
              }
            }
          }
        }
      }
    },
    "/api/webhooks/sendgrid": {
      "post": {
        "tags": [
          "Webhooks"
        ],
        "description": "Used to consume sendgrid webhook payloads.",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "email": {
                      "type": "string"
                    },
                    "timestamp": {
                      "type": "integer"
                    },
                    "event": {
                      "anyOf": [
                        {
                          "type": "string",
                          "enum": [
                            "processed"
                          ]
                        },
                        {
                          "type": "string",
                          "enum": [
                            "dropped"
                          ]
                        },
                        {
                          "type": "string",
                          "enum": [
                            "deferred"
                          ]
                        },
                        {
                          "type": "string",
                          "enum": [
                            "delivered"
                          ]
                        },
                        {
                          "type": "string",
                          "enum": [
                            "bounce"
                          ]
                        },
                        {
                          "type": "string",
                          "enum": [
                            "open"
                          ]
                        },
                        {
                          "type": "string",
                          "enum": [
                            "click"
                          ]
                        },
                        {
                          "type": "string",
                          "enum": [
                            "spamreport"
                          ]
                        },
                        {
                          "type": "string",
                          "enum": [
                            "unsubscribe"
                          ]
                        },
                        {
                          "type": "string",
                          "enum": [
                            "group_unsubscribe"
                          ]
                        },
                        {
                          "type": "string",
                          "enum": [
                            "group_resubscribe"
                          ]
                        }
                      ]
                    },
                    "sg_event_id": {
                      "type": "string"
                    },
                    "sg_message_id": {
                      "type": "string"
                    },
                    "ip": {
                      "type": "string"
                    },
                    "reason": {
                      "type": "string"
                    },
                    "pool": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "number"
                        },
                        "name": {
                          "type": "string"
                        }
                      },
                      "required": [
                        "id",
                        "name"
                      ]
                    },
                    "workspaceId": {
                      "type": "string"
                    },
                    "runId": {
                      "type": "string"
                    },
                    "messageId": {
                      "type": "string"
                    },
                    "userId": {
                      "type": "string"
                    },
                    "templateId": {
                      "type": "string"
                    },
                    "nodeId": {
                      "type": "string"
                    },
                    "journeyId": {
                      "type": "string"
                    },
                    "anonymousId": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "email",
                    "timestamp",
                    "event",
                    "sg_event_id",
                    "sg_message_id"
                  ]
                }
              }
            }
          }
        },
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "header",
            "name": "x-twilio-email-event-webhook-signature",
            "required": true
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "header",
            "name": "x-twilio-email-event-webhook-timestamp",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response"
          }
        }
      }
    },
    "/api/webhooks/amazon-ses": {
      "post": {
        "tags": [
          "Webhooks"
        ],
        "description": "Used to consume amazonses notification events.",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "anyOf": [
                  {
                    "type": "object",
                    "properties": {
                      "Type": {
                        "type": "string",
                        "enum": [
                          "Notification"
                        ]
                      },
                      "Message": {
                        "type": "string"
                      },
                      "MessageId": {
                        "type": "string"
                      },
                      "Subject": {
                        "type": "string"
                      },
                      "TopicArn": {
                        "type": "string"
                      },
                      "Timestamp": {
                        "type": "string"
                      },
                      "SignatureVersion": {
                        "anyOf": [
                          {
                            "type": "string",
                            "enum": [
                              "1"
                            ]
                          },
                          {
                            "type": "string",
                            "enum": [
                              "2"
                            ]
                          }
                        ]
                      },
                      "Signature": {
                        "type": "string"
                      },
                      "SigningCertURL": {
                        "type": "string"
                      },
                      "UnsubscribeURL": {
                        "type": "string"
                      }
                    },
                    "required": [
                      "Type",
                      "Message",
                      "MessageId",
                      "TopicArn",
                      "Timestamp",
                      "SignatureVersion",
                      "Signature",
                      "SigningCertURL",
                      "UnsubscribeURL"
                    ]
                  },
                  {
                    "type": "object",
                    "properties": {
                      "Type": {
                        "type": "string",
                        "enum": [
                          "SubscriptionConfirmation"
                        ]
                      },
                      "Token": {
                        "type": "string"
                      },
                      "TopicArn": {
                        "type": "string"
                      },
                      "SubscribeURL": {
                        "type": "string"
                      },
                      "Signature": {
                        "type": "string"
                      },
                      "SignatureVersion": {
                        "anyOf": [
                          {
                            "type": "string",
                            "enum": [
                              "1"
                            ]
                          },
                          {
                            "type": "string",
                            "enum": [
                              "2"
                            ]
                          }
                        ]
                      },
                      "SigningCertURL": {
                        "type": "string"
                      },
                      "Message": {
                        "type": "string"
                      },
                      "MessageId": {
                        "type": "string"
                      },
                      "Timestamp": {
                        "type": "string"
                      }
                    },
                    "required": [
                      "Type",
                      "Token",
                      "TopicArn",
                      "SubscribeURL",
                      "Signature",
                      "SignatureVersion",
                      "SigningCertURL",
                      "Message",
                      "MessageId",
                      "Timestamp"
                    ]
                  },
                  {
                    "type": "object",
                    "properties": {
                      "Type": {
                        "type": "string",
                        "enum": [
                          "UnsubscribeConfirmation"
                        ]
                      },
                      "Token": {
                        "type": "string"
                      },
                      "TopicArn": {
                        "type": "string"
                      },
                      "SubscribeURL": {
                        "type": "string"
                      },
                      "Signature": {
                        "type": "string"
                      },
                      "SignatureVersion": {
                        "anyOf": [
                          {
                            "type": "string",
                            "enum": [
                              "1"
                            ]
                          },
                          {
                            "type": "string",
                            "enum": [
                              "2"
                            ]
                          }
                        ]
                      },
                      "SigningCertURL": {
                        "type": "string"
                      },
                      "Message": {
                        "type": "string"
                      },
                      "MessageId": {
                        "type": "string"
                      },
                      "Timestamp": {
                        "type": "string"
                      }
                    },
                    "required": [
                      "Type",
                      "Token",
                      "TopicArn",
                      "SubscribeURL",
                      "Signature",
                      "SignatureVersion",
                      "SigningCertURL",
                      "Message",
                      "MessageId",
                      "Timestamp"
                    ]
                  }
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Default Response"
          }
        }
      }
    },
    "/api/webhooks/resend": {
      "post": {
        "tags": [
          "Webhooks"
        ],
        "description": "Used to consume resend webhook payloads.",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "created_at": {
                    "type": "string"
                  },
                  "data": {
                    "type": "object",
                    "properties": {
                      "created_at": {
                        "type": "string"
                      },
                      "email_id": {
                        "type": "string"
                      },
                      "from": {
                        "type": "string"
                      },
                      "subject": {
                        "type": "string"
                      },
                      "to": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        }
                      },
                      "tags": {
                        "type": "object",
                        "properties": {
                          "workspaceId": {
                            "type": "string"
                          },
                          "runId": {
                            "type": "string"
                          },
                          "messageId": {
                            "type": "string"
                          },
                          "userId": {
                            "type": "string"
                          },
                          "templateId": {
                            "type": "string"
                          },
                          "journeyId": {
                            "type": "string"
                          },
                          "anonymousId": {
                            "type": "string"
                          }
                        }
                      }
                    },
                    "required": [
                      "created_at",
                      "email_id",
                      "from",
                      "subject",
                      "to",
                      "tags"
                    ]
                  },
                  "type": {
                    "anyOf": [
                      {
                        "type": "string",
                        "enum": [
                          "email.sent"
                        ]
                      },
                      {
                        "type": "string",
                        "enum": [
                          "email.delivered"
                        ]
                      },
                      {
                        "type": "string",
                        "enum": [
                          "email.delivery_delayed"
                        ]
                      },
                      {
                        "type": "string",
                        "enum": [
                          "email.complained"
                        ]
                      },
                      {
                        "type": "string",
                        "enum": [
                          "email.bounced"
                        ]
                      },
                      {
                        "type": "string",
                        "enum": [
                          "email.opened"
                        ]
                      },
                      {
                        "type": "string",
                        "enum": [
                          "email.clicked"
                        ]
                      }
                    ]
                  }
                },
                "required": [
                  "created_at",
                  "data",
                  "type"
                ]
              }
            }
          },
          "required": true
        },
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "header",
            "name": "svix-id",
            "required": true
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "header",
            "name": "svix-timestamp",
            "required": true
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "header",
            "name": "svix-signature",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response"
          }
        }
      }
    },
    "/api/webhooks/postmark": {
      "post": {
        "tags": [
          "Webhooks"
        ],
        "description": "Used to consume postmark webhook payloads.",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "MessageStream": {
                    "type": "string"
                  },
                  "Tag": {
                    "type": "string"
                  },
                  "MessageID": {
                    "type": "string"
                  },
                  "Metadata": {
                    "type": "object",
                    "additionalProperties": {}
                  },
                  "RecordType": {
                    "anyOf": [
                      {
                        "type": "string",
                        "enum": [
                          "Delivery"
                        ]
                      },
                      {
                        "type": "string",
                        "enum": [
                          "SpamComplaint"
                        ]
                      },
                      {
                        "type": "string",
                        "enum": [
                          "Bounce"
                        ]
                      },
                      {
                        "type": "string",
                        "enum": [
                          "Open"
                        ]
                      },
                      {
                        "type": "string",
                        "enum": [
                          "Click"
                        ]
                      }
                    ]
                  },
                  "BouncedAt": {
                    "type": "string"
                  },
                  "DeliveredAt": {
                    "type": "string"
                  },
                  "ReceivedAt": {
                    "type": "string"
                  },
                  "workspaceId": {
                    "type": "string"
                  },
                  "runId": {
                    "type": "string"
                  },
                  "messageId": {
                    "type": "string"
                  },
                  "templateId": {
                    "type": "string"
                  },
                  "journeyId": {
                    "type": "string"
                  }
                },
                "required": [
                  "MessageStream",
                  "Tag",
                  "MessageID",
                  "Metadata",
                  "RecordType"
                ]
              }
            }
          },
          "required": true
        },
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "header",
            "name": "x-postmark-secret",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response"
          }
        }
      }
    },
    "/api/webhooks/segment": {
      "post": {
        "tags": [
          "Webhooks"
        ],
        "description": "Used to consume segment.io webhook payloads. Must be exposed publicly to the internet.",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "additionalProperties": true,
                "type": "object",
                "properties": {
                  "messageId": {
                    "type": "string"
                  },
                  "timestamp": {
                    "type": "string"
                  }
                },
                "required": [
                  "messageId",
                  "timestamp"
                ]
              }
            }
          },
          "required": true
        },
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "header",
            "name": "x-signature",
            "required": true
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "header",
            "name": "df-workspace-id",
            "required": false,
            "description": "Id of the workspace which will receive the segment payload. Defaults to the default workspace id, for single tenant systems"
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response"
          }
        }
      }
    },
    "/api/public/subscription-management/user-subscriptions": {
      "put": {
        "description": "Allows users to manage their subscriptions.",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "allOf": [
                  {
                    "type": "object",
                    "properties": {
                      "workspaceId": {
                        "description": "Workspace Id.",
                        "type": "string"
                      },
                      "hash": {
                        "description": "Subscription change hash, used to authenticate subscription changes.",
                        "type": "string"
                      },
                      "identifier": {
                        "description": "Identifier value for channel.",
                        "examples": [
                          "user@email.com"
                        ],
                        "type": "string"
                      },
                      "identifierKey": {
                        "description": "Identifier key for channel.",
                        "examples": [
                          "email"
                        ],
                        "type": "string"
                      }
                    },
                    "required": [
                      "workspaceId",
                      "hash",
                      "identifier",
                      "identifierKey"
                    ]
                  },
                  {
                    "type": "object",
                    "properties": {
                      "changes": {
                        "description": "Subscription changes.",
                        "type": "object",
                        "additionalProperties": {
                          "type": "boolean"
                        }
                      }
                    },
                    "required": [
                      "changes"
                    ]
                  }
                ]
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "An empty String",
            "content": {
              "application/json": {
                "schema": {
                  "description": "An empty String",
                  "type": "string"
                }
              }
            }
          },
          "401": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "message"
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/api/public/apps/identify": {
      "post": {
        "tags": [
          "Public Apps"
        ],
        "description": "The Identify call lets you tie a user to their actions and record traits about them. It includes a unique User ID and any optional traits you know about the user, like their email, name, and more.",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "anyOf": [
                  {
                    "type": "object",
                    "properties": {
                      "messageId": {
                        "type": "string"
                      },
                      "timestamp": {
                        "type": "string"
                      },
                      "context": {
                        "type": "object",
                        "additionalProperties": {}
                      },
                      "traits": {
                        "type": "object",
                        "additionalProperties": {}
                      },
                      "userId": {
                        "type": "string"
                      }
                    },
                    "required": [
                      "messageId",
                      "userId"
                    ]
                  },
                  {
                    "type": "object",
                    "properties": {
                      "messageId": {
                        "type": "string"
                      },
                      "timestamp": {
                        "type": "string"
                      },
                      "context": {
                        "type": "object",
                        "additionalProperties": {}
                      },
                      "traits": {
                        "type": "object",
                        "additionalProperties": {}
                      },
                      "anonymousId": {
                        "type": "string"
                      }
                    },
                    "required": [
                      "messageId",
                      "anonymousId"
                    ]
                  }
                ]
              }
            }
          }
        },
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "header",
            "name": "authorization",
            "required": true
          }
        ],
        "responses": {
          "204": {
            "description": "An empty String",
            "content": {
              "application/json": {
                "schema": {
                  "description": "An empty String",
                  "type": "string"
                }
              }
            }
          },
          "401": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "message"
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/api/public/apps/track": {
      "post": {
        "tags": [
          "Public Apps"
        ],
        "description": "The Track call is how you record any actions your users perform, along with any properties that describe the action.",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "anyOf": [
                  {
                    "type": "object",
                    "properties": {
                      "messageId": {
                        "type": "string"
                      },
                      "timestamp": {
                        "type": "string"
                      },
                      "context": {
                        "type": "object",
                        "additionalProperties": {}
                      },
                      "event": {
                        "type": "string"
                      },
                      "properties": {
                        "type": "object",
                        "additionalProperties": {}
                      },
                      "userId": {
                        "type": "string"
                      }
                    },
                    "required": [
                      "messageId",
                      "event",
                      "userId"
                    ]
                  },
                  {
                    "type": "object",
                    "properties": {
                      "messageId": {
                        "type": "string"
                      },
                      "timestamp": {
                        "type": "string"
                      },
                      "context": {
                        "type": "object",
                        "additionalProperties": {}
                      },
                      "event": {
                        "type": "string"
                      },
                      "properties": {
                        "type": "object",
                        "additionalProperties": {}
                      },
                      "anonymousId": {
                        "type": "string"
                      }
                    },
                    "required": [
                      "messageId",
                      "event",
                      "anonymousId"
                    ]
                  }
                ]
              }
            }
          }
        },
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "header",
            "name": "authorization",
            "required": true
          }
        ],
        "responses": {
          "204": {
            "description": "An empty String",
            "content": {
              "application/json": {
                "schema": {
                  "description": "An empty String",
                  "type": "string"
                }
              }
            }
          },
          "401": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "message"
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/api/public/apps/page": {
      "post": {
        "tags": [
          "Public Apps"
        ],
        "description": "The page call lets you record whenever a user sees a page of your website, along with any optional properties about the page.",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "anyOf": [
                  {
                    "type": "object",
                    "properties": {
                      "messageId": {
                        "type": "string"
                      },
                      "timestamp": {
                        "type": "string"
                      },
                      "context": {
                        "type": "object",
                        "additionalProperties": {}
                      },
                      "name": {
                        "type": "string"
                      },
                      "properties": {
                        "type": "object",
                        "additionalProperties": {}
                      },
                      "userId": {
                        "type": "string"
                      }
                    },
                    "required": [
                      "messageId",
                      "userId"
                    ]
                  },
                  {
                    "type": "object",
                    "properties": {
                      "messageId": {
                        "type": "string"
                      },
                      "timestamp": {
                        "type": "string"
                      },
                      "context": {
                        "type": "object",
                        "additionalProperties": {}
                      },
                      "name": {
                        "type": "string"
                      },
                      "properties": {
                        "type": "object",
                        "additionalProperties": {}
                      },
                      "anonymousId": {
                        "type": "string"
                      }
                    },
                    "required": [
                      "messageId",
                      "anonymousId"
                    ]
                  }
                ]
              }
            }
          }
        },
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "header",
            "name": "authorization",
            "required": true
          }
        ],
        "responses": {
          "204": {
            "description": "An empty String",
            "content": {
              "application/json": {
                "schema": {
                  "description": "An empty String",
                  "type": "string"
                }
              }
            }
          },
          "401": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "message"
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/api/public/apps/screen": {
      "post": {
        "tags": [
          "Public Apps"
        ],
        "description": "The screen call lets you record whenever a user sees a screen, the mobile equivalent of page, in your mobile app, along with any properties about the screen",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "anyOf": [
                  {
                    "type": "object",
                    "properties": {
                      "messageId": {
                        "type": "string"
                      },
                      "timestamp": {
                        "type": "string"
                      },
                      "context": {
                        "type": "object",
                        "additionalProperties": {}
                      },
                      "name": {
                        "type": "string"
                      },
                      "properties": {
                        "type": "object",
                        "additionalProperties": {}
                      },
                      "userId": {
                        "type": "string"
                      }
                    },
                    "required": [
                      "messageId",
                      "userId"
                    ]
                  },
                  {
                    "type": "object",
                    "properties": {
                      "messageId": {
                        "type": "string"
                      },
                      "timestamp": {
                        "type": "string"
                      },
                      "context": {
                        "type": "object",
                        "additionalProperties": {}
                      },
                      "name": {
                        "type": "string"
                      },
                      "properties": {
                        "type": "object",
                        "additionalProperties": {}
                      },
                      "anonymousId": {
                        "type": "string"
                      }
                    },
                    "required": [
                      "messageId",
                      "anonymousId"
                    ]
                  }
                ]
              }
            }
          }
        },
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "header",
            "name": "authorization",
            "required": true
          }
        ],
        "responses": {
          "204": {
            "description": "An empty String",
            "content": {
              "application/json": {
                "schema": {
                  "description": "An empty String",
                  "type": "string"
                }
              }
            }
          },
          "401": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "message"
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/api/public/apps/group": {
      "post": {
        "tags": [
          "Public Apps"
        ],
        "responses": {
          "200": {
            "description": "Default Response"
          }
        }
      }
    },
    "/api/public/apps/alias": {
      "post": {
        "tags": [
          "Public Apps"
        ],
        "responses": {
          "200": {
            "description": "Default Response"
          }
        }
      }
    },
    "/api/public/apps/batch": {
      "post": {
        "tags": [
          "Public Apps"
        ],
        "description": "The batch method lets you send a series of identify, group, track, page and screen requests in a single batch, saving on outbound requests.",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "batch": {
                    "type": "array",
                    "items": {
                      "anyOf": [
                        {
                          "anyOf": [
                            {
                              "type": "object",
                              "properties": {
                                "messageId": {
                                  "type": "string"
                                },
                                "timestamp": {
                                  "type": "string"
                                },
                                "type": {
                                  "type": "string",
                                  "enum": [
                                    "identify"
                                  ]
                                },
                                "traits": {
                                  "type": "object",
                                  "additionalProperties": {}
                                },
                                "userId": {
                                  "type": "string"
                                }
                              },
                              "required": [
                                "messageId",
                                "type",
                                "userId"
                              ]
                            },
                            {
                              "type": "object",
                              "properties": {
                                "messageId": {
                                  "type": "string"
                                },
                                "timestamp": {
                                  "type": "string"
                                },
                                "type": {
                                  "type": "string",
                                  "enum": [
                                    "identify"
                                  ]
                                },
                                "traits": {
                                  "type": "object",
                                  "additionalProperties": {}
                                },
                                "anonymousId": {
                                  "type": "string"
                                }
                              },
                              "required": [
                                "messageId",
                                "type",
                                "anonymousId"
                              ]
                            }
                          ]
                        },
                        {
                          "anyOf": [
                            {
                              "type": "object",
                              "properties": {
                                "messageId": {
                                  "type": "string"
                                },
                                "timestamp": {
                                  "type": "string"
                                },
                                "type": {
                                  "type": "string",
                                  "enum": [
                                    "track"
                                  ]
                                },
                                "event": {
                                  "type": "string"
                                },
                                "properties": {
                                  "type": "object",
                                  "additionalProperties": {}
                                },
                                "userId": {
                                  "type": "string"
                                }
                              },
                              "required": [
                                "messageId",
                                "type",
                                "event",
                                "userId"
                              ]
                            },
                            {
                              "type": "object",
                              "properties": {
                                "messageId": {
                                  "type": "string"
                                },
                                "timestamp": {
                                  "type": "string"
                                },
                                "type": {
                                  "type": "string",
                                  "enum": [
                                    "track"
                                  ]
                                },
                                "event": {
                                  "type": "string"
                                },
                                "properties": {
                                  "type": "object",
                                  "additionalProperties": {}
                                },
                                "anonymousId": {
                                  "type": "string"
                                }
                              },
                              "required": [
                                "messageId",
                                "type",
                                "event",
                                "anonymousId"
                              ]
                            }
                          ]
                        },
                        {
                          "anyOf": [
                            {
                              "type": "object",
                              "properties": {
                                "messageId": {
                                  "type": "string"
                                },
                                "timestamp": {
                                  "type": "string"
                                },
                                "type": {
                                  "type": "string",
                                  "enum": [
                                    "page"
                                  ]
                                },
                                "name": {
                                  "type": "string"
                                },
                                "properties": {
                                  "type": "object",
                                  "additionalProperties": {}
                                },
                                "userId": {
                                  "type": "string"
                                }
                              },
                              "required": [
                                "messageId",
                                "type",
                                "userId"
                              ]
                            },
                            {
                              "type": "object",
                              "properties": {
                                "messageId": {
                                  "type": "string"
                                },
                                "timestamp": {
                                  "type": "string"
                                },
                                "type": {
                                  "type": "string",
                                  "enum": [
                                    "page"
                                  ]
                                },
                                "name": {
                                  "type": "string"
                                },
                                "properties": {
                                  "type": "object",
                                  "additionalProperties": {}
                                },
                                "anonymousId": {
                                  "type": "string"
                                }
                              },
                              "required": [
                                "messageId",
                                "type",
                                "anonymousId"
                              ]
                            }
                          ]
                        },
                        {
                          "anyOf": [
                            {
                              "type": "object",
                              "properties": {
                                "messageId": {
                                  "type": "string"
                                },
                                "timestamp": {
                                  "type": "string"
                                },
                                "type": {
                                  "type": "string",
                                  "enum": [
                                    "screen"
                                  ]
                                },
                                "name": {
                                  "type": "string"
                                },
                                "properties": {
                                  "type": "object",
                                  "additionalProperties": {}
                                },
                                "userId": {
                                  "type": "string"
                                }
                              },
                              "required": [
                                "messageId",
                                "type",
                                "userId"
                              ]
                            },
                            {
                              "type": "object",
                              "properties": {
                                "messageId": {
                                  "type": "string"
                                },
                                "timestamp": {
                                  "type": "string"
                                },
                                "type": {
                                  "type": "string",
                                  "enum": [
                                    "screen"
                                  ]
                                },
                                "name": {
                                  "type": "string"
                                },
                                "properties": {
                                  "type": "object",
                                  "additionalProperties": {}
                                },
                                "anonymousId": {
                                  "type": "string"
                                }
                              },
                              "required": [
                                "messageId",
                                "type",
                                "anonymousId"
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  },
                  "context": {
                    "type": "object",
                    "additionalProperties": {}
                  }
                },
                "required": [
                  "batch"
                ]
              },
              "example": {
                "batch": [
                  {
                    "type": "track",
                    "event": "Signed Up",
                    "userId": "1043",
                    "properties": {
                      "plan": "Enterprise"
                    },
                    "messageId": "1ff51c9c-4929-45de-8914-3bb878be8c4a"
                  },
                  {
                    "type": "identify",
                    "userId": "532",
                    "traits": {
                      "email": "john@email.com"
                    },
                    "messageId": "6f5f436d-8534-4070-8023-d18f8b78ed39"
                  }
                ]
              }
            }
          },
          "required": true
        },
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "header",
            "name": "authorization",
            "required": true
          }
        ],
        "responses": {
          "204": {
            "description": "An empty String",
            "content": {
              "application/json": {
                "schema": {
                  "description": "An empty String",
                  "type": "string"
                }
              }
            }
          },
          "401": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "message"
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/api/public/webhooks/sendgrid": {
      "post": {
        "tags": [
          "Webhooks"
        ],
        "description": "Used to consume sendgrid webhook payloads.",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "email": {
                      "type": "string"
                    },
                    "timestamp": {
                      "type": "integer"
                    },
                    "event": {
                      "anyOf": [
                        {
                          "type": "string",
                          "enum": [
                            "processed"
                          ]
                        },
                        {
                          "type": "string",
                          "enum": [
                            "dropped"
                          ]
                        },
                        {
                          "type": "string",
                          "enum": [
                            "deferred"
                          ]
                        },
                        {
                          "type": "string",
                          "enum": [
                            "delivered"
                          ]
                        },
                        {
                          "type": "string",
                          "enum": [
                            "bounce"
                          ]
                        },
                        {
                          "type": "string",
                          "enum": [
                            "open"
                          ]
                        },
                        {
                          "type": "string",
                          "enum": [
                            "click"
                          ]
                        },
                        {
                          "type": "string",
                          "enum": [
                            "spamreport"
                          ]
                        },
                        {
                          "type": "string",
                          "enum": [
                            "unsubscribe"
                          ]
                        },
                        {
                          "type": "string",
                          "enum": [
                            "group_unsubscribe"
                          ]
                        },
                        {
                          "type": "string",
                          "enum": [
                            "group_resubscribe"
                          ]
                        }
                      ]
                    },
                    "sg_event_id": {
                      "type": "string"
                    },
                    "sg_message_id": {
                      "type": "string"
                    },
                    "ip": {
                      "type": "string"
                    },
                    "reason": {
                      "type": "string"
                    },
                    "pool": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "number"
                        },
                        "name": {
                          "type": "string"
                        }
                      },
                      "required": [
                        "id",
                        "name"
                      ]
                    },
                    "workspaceId": {
                      "type": "string"
                    },
                    "runId": {
                      "type": "string"
                    },
                    "messageId": {
                      "type": "string"
                    },
                    "userId": {
                      "type": "string"
                    },
                    "templateId": {
                      "type": "string"
                    },
                    "nodeId": {
                      "type": "string"
                    },
                    "journeyId": {
                      "type": "string"
                    },
                    "anonymousId": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "email",
                    "timestamp",
                    "event",
                    "sg_event_id",
                    "sg_message_id"
                  ]
                }
              }
            }
          }
        },
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "header",
            "name": "x-twilio-email-event-webhook-signature",
            "required": true
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "header",
            "name": "x-twilio-email-event-webhook-timestamp",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response"
          }
        }
      }
    },
    "/api/public/webhooks/amazon-ses": {
      "post": {
        "tags": [
          "Webhooks"
        ],
        "description": "Used to consume amazonses notification events.",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "anyOf": [
                  {
                    "type": "object",
                    "properties": {
                      "Type": {
                        "type": "string",
                        "enum": [
                          "Notification"
                        ]
                      },
                      "Message": {
                        "type": "string"
                      },
                      "MessageId": {
                        "type": "string"
                      },
                      "Subject": {
                        "type": "string"
                      },
                      "TopicArn": {
                        "type": "string"
                      },
                      "Timestamp": {
                        "type": "string"
                      },
                      "SignatureVersion": {
                        "anyOf": [
                          {
                            "type": "string",
                            "enum": [
                              "1"
                            ]
                          },
                          {
                            "type": "string",
                            "enum": [
                              "2"
                            ]
                          }
                        ]
                      },
                      "Signature": {
                        "type": "string"
                      },
                      "SigningCertURL": {
                        "type": "string"
                      },
                      "UnsubscribeURL": {
                        "type": "string"
                      }
                    },
                    "required": [
                      "Type",
                      "Message",
                      "MessageId",
                      "TopicArn",
                      "Timestamp",
                      "SignatureVersion",
                      "Signature",
                      "SigningCertURL",
                      "UnsubscribeURL"
                    ]
                  },
                  {
                    "type": "object",
                    "properties": {
                      "Type": {
                        "type": "string",
                        "enum": [
                          "SubscriptionConfirmation"
                        ]
                      },
                      "Token": {
                        "type": "string"
                      },
                      "TopicArn": {
                        "type": "string"
                      },
                      "SubscribeURL": {
                        "type": "string"
                      },
                      "Signature": {
                        "type": "string"
                      },
                      "SignatureVersion": {
                        "anyOf": [
                          {
                            "type": "string",
                            "enum": [
                              "1"
                            ]
                          },
                          {
                            "type": "string",
                            "enum": [
                              "2"
                            ]
                          }
                        ]
                      },
                      "SigningCertURL": {
                        "type": "string"
                      },
                      "Message": {
                        "type": "string"
                      },
                      "MessageId": {
                        "type": "string"
                      },
                      "Timestamp": {
                        "type": "string"
                      }
                    },
                    "required": [
                      "Type",
                      "Token",
                      "TopicArn",
                      "SubscribeURL",
                      "Signature",
                      "SignatureVersion",
                      "SigningCertURL",
                      "Message",
                      "MessageId",
                      "Timestamp"
                    ]
                  },
                  {
                    "type": "object",
                    "properties": {
                      "Type": {
                        "type": "string",
                        "enum": [
                          "UnsubscribeConfirmation"
                        ]
                      },
                      "Token": {
                        "type": "string"
                      },
                      "TopicArn": {
                        "type": "string"
                      },
                      "SubscribeURL": {
                        "type": "string"
                      },
                      "Signature": {
                        "type": "string"
                      },
                      "SignatureVersion": {
                        "anyOf": [
                          {
                            "type": "string",
                            "enum": [
                              "1"
                            ]
                          },
                          {
                            "type": "string",
                            "enum": [
                              "2"
                            ]
                          }
                        ]
                      },
                      "SigningCertURL": {
                        "type": "string"
                      },
                      "Message": {
                        "type": "string"
                      },
                      "MessageId": {
                        "type": "string"
                      },
                      "Timestamp": {
                        "type": "string"
                      }
                    },
                    "required": [
                      "Type",
                      "Token",
                      "TopicArn",
                      "SubscribeURL",
                      "Signature",
                      "SignatureVersion",
                      "SigningCertURL",
                      "Message",
                      "MessageId",
                      "Timestamp"
                    ]
                  }
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Default Response"
          }
        }
      }
    },
    "/api/public/webhooks/resend": {
      "post": {
        "tags": [
          "Webhooks"
        ],
        "description": "Used to consume resend webhook payloads.",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "created_at": {
                    "type": "string"
                  },
                  "data": {
                    "type": "object",
                    "properties": {
                      "created_at": {
                        "type": "string"
                      },
                      "email_id": {
                        "type": "string"
                      },
                      "from": {
                        "type": "string"
                      },
                      "subject": {
                        "type": "string"
                      },
                      "to": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        }
                      },
                      "tags": {
                        "type": "object",
                        "properties": {
                          "workspaceId": {
                            "type": "string"
                          },
                          "runId": {
                            "type": "string"
                          },
                          "messageId": {
                            "type": "string"
                          },
                          "userId": {
                            "type": "string"
                          },
                          "templateId": {
                            "type": "string"
                          },
                          "journeyId": {
                            "type": "string"
                          },
                          "anonymousId": {
                            "type": "string"
                          }
                        }
                      }
                    },
                    "required": [
                      "created_at",
                      "email_id",
                      "from",
                      "subject",
                      "to",
                      "tags"
                    ]
                  },
                  "type": {
                    "anyOf": [
                      {
                        "type": "string",
                        "enum": [
                          "email.sent"
                        ]
                      },
                      {
                        "type": "string",
                        "enum": [
                          "email.delivered"
                        ]
                      },
                      {
                        "type": "string",
                        "enum": [
                          "email.delivery_delayed"
                        ]
                      },
                      {
                        "type": "string",
                        "enum": [
                          "email.complained"
                        ]
                      },
                      {
                        "type": "string",
                        "enum": [
                          "email.bounced"
                        ]
                      },
                      {
                        "type": "string",
                        "enum": [
                          "email.opened"
                        ]
                      },
                      {
                        "type": "string",
                        "enum": [
                          "email.clicked"
                        ]
                      }
                    ]
                  }
                },
                "required": [
                  "created_at",
                  "data",
                  "type"
                ]
              }
            }
          },
          "required": true
        },
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "header",
            "name": "svix-id",
            "required": true
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "header",
            "name": "svix-timestamp",
            "required": true
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "header",
            "name": "svix-signature",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response"
          }
        }
      }
    },
    "/api/public/webhooks/postmark": {
      "post": {
        "tags": [
          "Webhooks"
        ],
        "description": "Used to consume postmark webhook payloads.",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "MessageStream": {
                    "type": "string"
                  },
                  "Tag": {
                    "type": "string"
                  },
                  "MessageID": {
                    "type": "string"
                  },
                  "Metadata": {
                    "type": "object",
                    "additionalProperties": {}
                  },
                  "RecordType": {
                    "anyOf": [
                      {
                        "type": "string",
                        "enum": [
                          "Delivery"
                        ]
                      },
                      {
                        "type": "string",
                        "enum": [
                          "SpamComplaint"
                        ]
                      },
                      {
                        "type": "string",
                        "enum": [
                          "Bounce"
                        ]
                      },
                      {
                        "type": "string",
                        "enum": [
                          "Open"
                        ]
                      },
                      {
                        "type": "string",
                        "enum": [
                          "Click"
                        ]
                      }
                    ]
                  },
                  "BouncedAt": {
                    "type": "string"
                  },
                  "DeliveredAt": {
                    "type": "string"
                  },
                  "ReceivedAt": {
                    "type": "string"
                  },
                  "workspaceId": {
                    "type": "string"
                  },
                  "runId": {
                    "type": "string"
                  },
                  "messageId": {
                    "type": "string"
                  },
                  "templateId": {
                    "type": "string"
                  },
                  "journeyId": {
                    "type": "string"
                  }
                },
                "required": [
                  "MessageStream",
                  "Tag",
                  "MessageID",
                  "Metadata",
                  "RecordType"
                ]
              }
            }
          },
          "required": true
        },
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "header",
            "name": "x-postmark-secret",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response"
          }
        }
      }
    },
    "/api/public/webhooks/segment": {
      "post": {
        "tags": [
          "Webhooks"
        ],
        "description": "Used to consume segment.io webhook payloads. Must be exposed publicly to the internet.",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "additionalProperties": true,
                "type": "object",
                "properties": {
                  "messageId": {
                    "type": "string"
                  },
                  "timestamp": {
                    "type": "string"
                  }
                },
                "required": [
                  "messageId",
                  "timestamp"
                ]
              }
            }
          },
          "required": true
        },
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "header",
            "name": "x-signature",
            "required": true
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "header",
            "name": "df-workspace-id",
            "required": false,
            "description": "Id of the workspace which will receive the segment payload. Defaults to the default workspace id, for single tenant systems"
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response"
          }
        }
      }
    },
    "/api/admin/users/": {
      "get": {
        "tags": [
          "Users"
        ],
        "description": "Get list of users",
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "query",
            "name": "cursor",
            "required": false
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "query",
            "name": "segmentId",
            "required": false
          },
          {
            "schema": {
              "type": "number"
            },
            "in": "query",
            "name": "limit",
            "required": false
          },
          {
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "enum": [
                    "after"
                  ]
                },
                {
                  "type": "string",
                  "enum": [
                    "before"
                  ]
                }
              ]
            },
            "in": "query",
            "name": "direction",
            "required": false
          },
          {
            "schema": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "in": "query",
            "name": "userIds",
            "required": false
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "query",
            "name": "workspaceId",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "users": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "string"
                          },
                          "properties": {
                            "type": "object",
                            "additionalProperties": {
                              "type": "object",
                              "properties": {
                                "name": {
                                  "type": "string"
                                },
                                "value": {}
                              },
                              "required": [
                                "name",
                                "value"
                              ]
                            }
                          },
                          "segments": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "id": {
                                  "type": "string"
                                },
                                "name": {
                                  "type": "string"
                                }
                              },
                              "required": [
                                "id",
                                "name"
                              ]
                            }
                          }
                        },
                        "required": [
                          "id",
                          "properties",
                          "segments"
                        ]
                      }
                    },
                    "previousCursor": {
                      "type": "string"
                    },
                    "nextCursor": {
                      "type": "string"
                    },
                    "userCount": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "users",
                    "userCount"
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "message"
                  ]
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Users"
        ],
        "description": "Delete events, and computed properties and segments for specific users.",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "workspaceId": {
                    "type": "string"
                  },
                  "userIds": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  }
                },
                "required": [
                  "workspaceId",
                  "userIds"
                ]
              }
            }
          },
          "required": true
        },
        "responses": {
          "204": {
            "description": "An empty String",
            "content": {
              "application/json": {
                "schema": {
                  "description": "An empty String",
                  "type": "string"
                }
              }
            }
          }
        }
      }
    },
    "/api/admin/user-properties/": {
      "get": {
        "tags": [
          "User Properties"
        ],
        "description": "Get all user properties.",
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "query",
            "name": "workspaceId",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "userProperties": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "string"
                          },
                          "workspaceId": {
                            "type": "string"
                          },
                          "name": {
                            "type": "string"
                          },
                          "definition": {
                            "anyOf": [
                              {
                                "type": "object",
                                "properties": {
                                  "type": {
                                    "type": "string",
                                    "enum": [
                                      "Id"
                                    ]
                                  }
                                },
                                "required": [
                                  "type"
                                ]
                              },
                              {
                                "type": "object",
                                "properties": {
                                  "type": {
                                    "type": "string",
                                    "enum": [
                                      "AnonymousId"
                                    ]
                                  }
                                },
                                "required": [
                                  "type"
                                ]
                              },
                              {
                                "type": "object",
                                "properties": {
                                  "type": {
                                    "type": "string",
                                    "enum": [
                                      "Group"
                                    ]
                                  },
                                  "entry": {
                                    "type": "string"
                                  },
                                  "nodes": {
                                    "type": "array",
                                    "items": {
                                      "anyOf": [
                                        {
                                          "type": "object",
                                          "properties": {
                                            "id": {
                                              "type": "string"
                                            },
                                            "type": {
                                              "type": "string",
                                              "enum": [
                                                "AnyOf"
                                              ]
                                            },
                                            "children": {
                                              "type": "array",
                                              "items": {
                                                "type": "string"
                                              }
                                            }
                                          },
                                          "required": [
                                            "id",
                                            "type",
                                            "children"
                                          ]
                                        },
                                        {
                                          "anyOf": [
                                            {
                                              "type": "object",
                                              "properties": {
                                                "id": {
                                                  "type": "string"
                                                },
                                                "type": {
                                                  "type": "string",
                                                  "enum": [
                                                    "Trait"
                                                  ]
                                                },
                                                "path": {
                                                  "type": "string"
                                                }
                                              },
                                              "required": [
                                                "type",
                                                "path"
                                              ]
                                            },
                                            {
                                              "type": "object",
                                              "properties": {
                                                "id": {
                                                  "type": "string"
                                                },
                                                "type": {
                                                  "type": "string",
                                                  "enum": [
                                                    "Performed"
                                                  ]
                                                },
                                                "event": {
                                                  "type": "string"
                                                },
                                                "path": {
                                                  "type": "string"
                                                }
                                              },
                                              "required": [
                                                "type",
                                                "event",
                                                "path"
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  }
                                },
                                "required": [
                                  "type",
                                  "entry",
                                  "nodes"
                                ]
                              },
                              {
                                "anyOf": [
                                  {
                                    "type": "object",
                                    "properties": {
                                      "id": {
                                        "type": "string"
                                      },
                                      "type": {
                                        "type": "string",
                                        "enum": [
                                          "Trait"
                                        ]
                                      },
                                      "path": {
                                        "type": "string"
                                      }
                                    },
                                    "required": [
                                      "type",
                                      "path"
                                    ]
                                  },
                                  {
                                    "type": "object",
                                    "properties": {
                                      "id": {
                                        "type": "string"
                                      },
                                      "type": {
                                        "type": "string",
                                        "enum": [
                                          "Performed"
                                        ]
                                      },
                                      "event": {
                                        "type": "string"
                                      },
                                      "path": {
                                        "type": "string"
                                      }
                                    },
                                    "required": [
                                      "type",
                                      "event",
                                      "path"
                                    ]
                                  }
                                ]
                              },
                              {
                                "type": "object",
                                "properties": {
                                  "id": {
                                    "type": "string"
                                  },
                                  "type": {
                                    "type": "string",
                                    "enum": [
                                      "PerformedMany"
                                    ]
                                  },
                                  "or": {
                                    "type": "array",
                                    "items": {
                                      "type": "object",
                                      "properties": {
                                        "event": {
                                          "type": "string"
                                        }
                                      },
                                      "required": [
                                        "event"
                                      ]
                                    }
                                  }
                                },
                                "required": [
                                  "type",
                                  "or"
                                ]
                              }
                            ]
                          },
                          "exampleValue": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "id",
                          "workspaceId",
                          "name",
                          "definition"
                        ]
                      }
                    }
                  },
                  "required": [
                    "userProperties"
                  ]
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "User Properties"
        ],
        "description": "Create or update a user property.",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "allOf": [
                  {
                    "type": "object",
                    "properties": {
                      "workspaceId": {
                        "type": "string"
                      },
                      "definition": {
                        "anyOf": [
                          {
                            "type": "object",
                            "properties": {
                              "type": {
                                "type": "string",
                                "enum": [
                                  "Id"
                                ]
                              }
                            },
                            "required": [
                              "type"
                            ]
                          },
                          {
                            "type": "object",
                            "properties": {
                              "type": {
                                "type": "string",
                                "enum": [
                                  "AnonymousId"
                                ]
                              }
                            },
                            "required": [
                              "type"
                            ]
                          },
                          {
                            "type": "object",
                            "properties": {
                              "type": {
                                "type": "string",
                                "enum": [
                                  "Group"
                                ]
                              },
                              "entry": {
                                "type": "string"
                              },
                              "nodes": {
                                "type": "array",
                                "items": {
                                  "anyOf": [
                                    {
                                      "type": "object",
                                      "properties": {
                                        "id": {
                                          "type": "string"
                                        },
                                        "type": {
                                          "type": "string",
                                          "enum": [
                                            "AnyOf"
                                          ]
                                        },
                                        "children": {
                                          "type": "array",
                                          "items": {
                                            "type": "string"
                                          }
                                        }
                                      },
                                      "required": [
                                        "id",
                                        "type",
                                        "children"
                                      ]
                                    },
                                    {
                                      "anyOf": [
                                        {
                                          "type": "object",
                                          "properties": {
                                            "id": {
                                              "type": "string"
                                            },
                                            "type": {
                                              "type": "string",
                                              "enum": [
                                                "Trait"
                                              ]
                                            },
                                            "path": {
                                              "type": "string"
                                            }
                                          },
                                          "required": [
                                            "type",
                                            "path"
                                          ]
                                        },
                                        {
                                          "type": "object",
                                          "properties": {
                                            "id": {
                                              "type": "string"
                                            },
                                            "type": {
                                              "type": "string",
                                              "enum": [
                                                "Performed"
                                              ]
                                            },
                                            "event": {
                                              "type": "string"
                                            },
                                            "path": {
                                              "type": "string"
                                            }
                                          },
                                          "required": [
                                            "type",
                                            "event",
                                            "path"
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              }
                            },
                            "required": [
                              "type",
                              "entry",
                              "nodes"
                            ]
                          },
                          {
                            "anyOf": [
                              {
                                "type": "object",
                                "properties": {
                                  "id": {
                                    "type": "string"
                                  },
                                  "type": {
                                    "type": "string",
                                    "enum": [
                                      "Trait"
                                    ]
                                  },
                                  "path": {
                                    "type": "string"
                                  }
                                },
                                "required": [
                                  "type",
                                  "path"
                                ]
                              },
                              {
                                "type": "object",
                                "properties": {
                                  "id": {
                                    "type": "string"
                                  },
                                  "type": {
                                    "type": "string",
                                    "enum": [
                                      "Performed"
                                    ]
                                  },
                                  "event": {
                                    "type": "string"
                                  },
                                  "path": {
                                    "type": "string"
                                  }
                                },
                                "required": [
                                  "type",
                                  "event",
                                  "path"
                                ]
                              }
                            ]
                          },
                          {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "string"
                              },
                              "type": {
                                "type": "string",
                                "enum": [
                                  "PerformedMany"
                                ]
                              },
                              "or": {
                                "type": "array",
                                "items": {
                                  "type": "object",
                                  "properties": {
                                    "event": {
                                      "type": "string"
                                    }
                                  },
                                  "required": [
                                    "event"
                                  ]
                                }
                              }
                            },
                            "required": [
                              "type",
                              "or"
                            ]
                          }
                        ]
                      },
                      "exampleValue": {
                        "type": "string"
                      }
                    }
                  },
                  {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "string"
                      },
                      "name": {
                        "type": "string"
                      }
                    },
                    "required": [
                      "id",
                      "name"
                    ]
                  }
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "string"
                    },
                    "workspaceId": {
                      "type": "string"
                    },
                    "name": {
                      "type": "string"
                    },
                    "definition": {
                      "anyOf": [
                        {
                          "type": "object",
                          "properties": {
                            "type": {
                              "type": "string",
                              "enum": [
                                "Id"
                              ]
                            }
                          },
                          "required": [
                            "type"
                          ]
                        },
                        {
                          "type": "object",
                          "properties": {
                            "type": {
                              "type": "string",
                              "enum": [
                                "AnonymousId"
                              ]
                            }
                          },
                          "required": [
                            "type"
                          ]
                        },
                        {
                          "type": "object",
                          "properties": {
                            "type": {
                              "type": "string",
                              "enum": [
                                "Group"
                              ]
                            },
                            "entry": {
                              "type": "string"
                            },
                            "nodes": {
                              "type": "array",
                              "items": {
                                "anyOf": [
                                  {
                                    "type": "object",
                                    "properties": {
                                      "id": {
                                        "type": "string"
                                      },
                                      "type": {
                                        "type": "string",
                                        "enum": [
                                          "AnyOf"
                                        ]
                                      },
                                      "children": {
                                        "type": "array",
                                        "items": {
                                          "type": "string"
                                        }
                                      }
                                    },
                                    "required": [
                                      "id",
                                      "type",
                                      "children"
                                    ]
                                  },
                                  {
                                    "anyOf": [
                                      {
                                        "type": "object",
                                        "properties": {
                                          "id": {
                                            "type": "string"
                                          },
                                          "type": {
                                            "type": "string",
                                            "enum": [
                                              "Trait"
                                            ]
                                          },
                                          "path": {
                                            "type": "string"
                                          }
                                        },
                                        "required": [
                                          "type",
                                          "path"
                                        ]
                                      },
                                      {
                                        "type": "object",
                                        "properties": {
                                          "id": {
                                            "type": "string"
                                          },
                                          "type": {
                                            "type": "string",
                                            "enum": [
                                              "Performed"
                                            ]
                                          },
                                          "event": {
                                            "type": "string"
                                          },
                                          "path": {
                                            "type": "string"
                                          }
                                        },
                                        "required": [
                                          "type",
                                          "event",
                                          "path"
                                        ]
                                      }
                                    ]
                                  }
                                ]
                              }
                            }
                          },
                          "required": [
                            "type",
                            "entry",
                            "nodes"
                          ]
                        },
                        {
                          "anyOf": [
                            {
                              "type": "object",
                              "properties": {
                                "id": {
                                  "type": "string"
                                },
                                "type": {
                                  "type": "string",
                                  "enum": [
                                    "Trait"
                                  ]
                                },
                                "path": {
                                  "type": "string"
                                }
                              },
                              "required": [
                                "type",
                                "path"
                              ]
                            },
                            {
                              "type": "object",
                              "properties": {
                                "id": {
                                  "type": "string"
                                },
                                "type": {
                                  "type": "string",
                                  "enum": [
                                    "Performed"
                                  ]
                                },
                                "event": {
                                  "type": "string"
                                },
                                "path": {
                                  "type": "string"
                                }
                              },
                              "required": [
                                "type",
                                "event",
                                "path"
                              ]
                            }
                          ]
                        },
                        {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "string"
                            },
                            "type": {
                              "type": "string",
                              "enum": [
                                "PerformedMany"
                              ]
                            },
                            "or": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "properties": {
                                  "event": {
                                    "type": "string"
                                  }
                                },
                                "required": [
                                  "event"
                                ]
                              }
                            }
                          },
                          "required": [
                            "type",
                            "or"
                          ]
                        }
                      ]
                    },
                    "exampleValue": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "id",
                    "workspaceId",
                    "name",
                    "definition"
                  ]
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "User Properties"
        ],
        "description": "Delete a user property.",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "workspaceId": {
                    "type": "string"
                  },
                  "id": {
                    "type": "string"
                  }
                },
                "required": [
                  "workspaceId",
                  "id"
                ]
              }
            }
          },
          "required": true
        },
        "responses": {
          "204": {
            "description": "An empty String",
            "content": {
              "application/json": {
                "schema": {
                  "description": "An empty String",
                  "type": "string"
                }
              }
            }
          },
          "404": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {}
                }
              }
            }
          }
        }
      }
    },
    "/internal-api/debug/boom": {
      "get": {
        "description": "Boom endpoint for throwing errors and testing telemetry.",
        "responses": {
          "200": {
            "description": "Default Response"
          }
        }
      }
    }
  },
  "servers": [
    {
      "url": "http://localhost"
    }
  ]
}
